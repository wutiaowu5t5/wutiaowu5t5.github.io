<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Webapck创建Vue3项目 | Nanami Kento</title><meta name="author" content="Nanami Kento"><meta name="copyright" content="Nanami Kento"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="版本要求node版本需要18及以上，否则下载最新的webpack一些包，运行起来会出问题 npm版本一般都是跟随node的 建议最好是可以利用nvm来对你电脑的node版本进行管理 如何查看版本 调出来你的cmd工具 按键：Win+R  查看node版本 1node -v  得到版本为V 18.18.2  查看npm版本 1npm -v  得到版本为V 9.8.1    一、新建项目新建一个项目，">
<meta property="og:type" content="article">
<meta property="og:title" content="Webapck创建Vue3项目">
<meta property="og:url" content="https://wutiaowu5t5.github.io/posts/54d94922/index.html">
<meta property="og:site_name" content="Nanami Kento">
<meta property="og:description" content="版本要求node版本需要18及以上，否则下载最新的webpack一些包，运行起来会出问题 npm版本一般都是跟随node的 建议最好是可以利用nvm来对你电脑的node版本进行管理 如何查看版本 调出来你的cmd工具 按键：Win+R  查看node版本 1node -v  得到版本为V 18.18.2  查看npm版本 1npm -v  得到版本为V 9.8.1    一、新建项目新建一个项目，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2024/05/09/K7VxfLSw1E6eDvR.png">
<meta property="article:published_time" content="2024-04-16T07:24:24.000Z">
<meta property="article:modified_time" content="2024-04-16T07:24:24.000Z">
<meta property="article:author" content="Nanami Kento">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="工程化">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2024/05/09/K7VxfLSw1E6eDvR.png"><link rel="shortcut icon" href="/img/header.jpg"><link rel="canonical" href="https://wutiaowu5t5.github.io/posts/54d94922/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Nanami Kento","link":"链接: ","source":"来源: Nanami Kento","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Webapck创建Vue3项目',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-16 15:24:24'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 8 || hour >= 17
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/all.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4427279_s445g4lsqz.css"><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="Nanami Kento" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div id="loading-box-me"><div id="wrapper"><div id="mouse"></div><div class="loader"></div><div class="loading-bar-me"><div class="progress-bar"></div></div><div class="status"><div class="state"></div><div class="percentage"></div></div></div></div></div><script>const preloader = {
  endLoading: () => {
    var loadingBox = document.getElementById('loading-box');
    var loadingBoxme = document.getElementById('loading-box-me');
    loadingBoxme.addEventListener('animationend', () => {setTimeout(function() {loadingBox.classList.add("loaded");}, 2000) })
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  },
  otherendLoading: () => {
    document.getElementById('loading-box').classList.add("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.otherendLoading();},10000)

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.otherendLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/12/29/7htnI1LMOY4WCTF.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-bijijilu"></i><span> 记录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-fabuwenzhang"></i><span> 文章</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-24gl-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-grouping"></i><span> 分类</span></a></li><li><a class="site-page child" href="/articleCount/"><i class="fa-fw iconfont icon-tongji"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:randomPost();"><i class="fa-fw iconfont icon-suiji"></i><span> 随机跳转</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-youlian"></i><span> 收藏网站</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyu"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://s2.loli.net/2024/05/09/K7VxfLSw1E6eDvR.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Nanami Kento"><span class="site-name">Nanami Kento</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-bijijilu"></i><span> 记录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-fabuwenzhang"></i><span> 文章</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-24gl-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-grouping"></i><span> 分类</span></a></li><li><a class="site-page child" href="/articleCount/"><i class="fa-fw iconfont icon-tongji"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:randomPost();"><i class="fa-fw iconfont icon-suiji"></i><span> 随机跳转</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-youlian"></i><span> 收藏网站</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyu"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Webapck创建Vue3项目</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-16T07:24:24.000Z" title="发表于 2024-04-16 15:24:24">2024-04-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-04-16T07:24:24.000Z" title="更新于 2024-04-16 15:24:24">2024-04-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/web/">web</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">20.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>72分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Webapck创建Vue3项目"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note info modern"><h4 id="版本要求"><a href="#版本要求" class="headerlink" title="版本要求"></a>版本要求</h4><p><code>node</code>版本需要18及以上，否则下载最新的<code>webpack</code>一些包，运行起来会出问题</p>
<p><code>npm</code>版本一般都是跟随<code>node</code>的</p>
<h4 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h4><p>最好是可以利用<code>nvm</code>来对你电脑的<code>node</code>版本进行管理</p>
<h4 id="如何查看版本"><a href="#如何查看版本" class="headerlink" title="如何查看版本"></a>如何查看版本</h4><ol>
<li><p>调出来你的<code>cmd</code>工具</p>
<p>按键：<code>Win+R</code></p>
</li>
<li><p>查看node版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2024/05/17/VaZAtojXedkKRYL.png" alt="image-20240517160158000"></p>
<p>得到版本为<code>V 18.18.2</code></p>
</li>
<li><p>查看npm版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2024/05/17/ib8c5pIE9YBhN4G.png" alt="image-20240517160244635"></p>
<p>得到版本为<code>V 9.8.1</code></p>
</li>
</ol>
</div>
<h2 id="一、新建项目"><a href="#一、新建项目" class="headerlink" title="一、新建项目"></a>一、新建项目</h2><p>新建一个项目，并在编辑器里面打开，这里用的是<code>Webstorm</code>，项目名字是<code>WebpackCreateVue</code></p>
<p><br /></p>
<h2 id="二、初始化项目"><a href="#二、初始化项目" class="headerlink" title="二、初始化项目"></a>二、初始化项目</h2><p>打开终端， 运行下面这段命令，会给我们的项目初始化，生成一个<code>package.json</code>文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2024/05/17/QJOlNMIkvWKrmpx.png" alt="image-20240517161006850"></p>
<p><br /></p>
<details class="folding-tag" purple><summary> package.json是什么 </summary>
              <div class='content'>
              <p><code>package.json</code> 文件是一个重要的文件，存在于 <code>Node.js</code> 应用或前端项目（通常用到了 <code>Node.js</code> 工具链，如使用 <code>npm/yarn</code> 进行包管理的项目）的根目录中</p><p>它用于存储项目的元数据和配置信息</p><p>这个文件是用 <code>JSON</code> 格式编写的，提供了一种标准化的方式来组织项目信息和管理项目的依赖</p><p>主要作用包括但不限于：</p><ol><li><p><strong>项目元数据</strong></p><p>定义项目的名称、版本、描述、作者、许可证等信息</p><p>这对于项目的标识和分发非常重要</p></li><li><p><strong>依赖管理</strong></p><p>列出了项目所需的各种依赖包及其版本号</p><p>这使得项目在不同环境中的部署变得容易和一致，因为 <code>npm</code> 或 <code>yarn</code> 这样的包管理器可以自动安装正确版本的依赖</p></li><li><p><strong>脚本</strong></p><p>定义一系列脚本命令，如启动项目、编译构建、测试等</p><p>这使得项目相关的任务可以轻松执行，增强了开发效率</p></li><li><p><strong>配置信息</strong></p><p>可以包含项目配置信息，如构建系统、测试框架和其他工具的配置</p><p>这些配置通常在开发过程中经常需要修改或参考</p></li><li><p><strong>私有标记</strong></p><p>如果 <code>package.json</code> 中包含 <code>&quot;private&quot;: true</code> 字段，可以防止不小心将私有仓库发布到 <code>npm</code> 上</p></li></ol><p>例如，一个典型的 <code>package.json</code> 文件可能看起来像这样：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;my-awesome-project&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A description of the project.&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Your Name&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;express&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.17.1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;nodemon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.7&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>在这个例子中，你可以看到项目名称、版本、描述、主入口文件、脚本、作者、许可证以及依赖和开发依赖等信息</p><p>通过这些信息，开发者和工具可以了解如何处理和运行项目</p>
              </div>
            </details>
<p><br /></p>
<h2 id="三、搭建项目"><a href="#三、搭建项目" class="headerlink" title="三、搭建项目"></a>三、搭建项目</h2><p>这一步将要实现目标就是：</p>
<ol>
<li>给<code>webpack</code>区分打包环境</li>
<li>给项目添加<code>vue</code></li>
<li>给项目添加<code>css</code>预处理器</li>
<li>把项目跑起来</li>
</ol>
<h3 id="3-1-Webpack基础包"><a href="#3-1-Webpack基础包" class="headerlink" title="3.1-Webpack基础包"></a>3.1-Webpack基础包</h3><p>执行下面这段命令，我们就可以启动<code>webpack</code>项目了，这些包在使用<code>Webpack</code>进行项目构建时常用到的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server webpack webpack-cli webpack-merge --save-dev</span><br></pre></td></tr></table></figure>
<p>这时候我们看到到项目里面多出来了一个目录<code>node_modules</code>，一个文件<code>package-lock.json</code>，<code>package.json</code>里面多出来了一个<code>devDependencies</code></p>
<details class="folding-tag" purple><summary> 多出来一个目录node_modules是干什么的 </summary>
              <div class='content'>
              <p><code>node_modules</code>目录在<code>JavaScript</code>和<code>Node.js</code>项目中扮演着非常重要的角色</p><p>当你使用<code>npm（Node Package Manager）</code>或<code>yarn</code>等包管理工具安装包<code>（libraries）</code>或依赖<code>（dependencies）</code>时，这些安装的包都会被放置在<code>node_modules</code>目录下</p><p>以下是<code>node_modules</code>的一些详细解释：</p><ol><li><p><strong>依赖存放地</strong></p><p>项目所需的所有第三方包和它们的依赖都会被下载并存放在这个目录里</p><p>这些依赖可能是你直接安装的，也可能是你安装的包所依赖的其他包</p></li><li><p><strong>项目与依赖隔离</strong></p><p>通过将所有依赖放在单独的目录中，<code>node_modules</code>帮助项目保持组织性，同时确保了项目的根目录清爽、有序</p><p>这也使得依赖管理更为集中和简单</p></li><li><p><strong>模块解析</strong></p><p>当你在项目中<code>require</code>或从ES6模块中<code>import</code>模块时，Node.js会默认在<code>node_modules</code>目录中查找这些模块</p><p>这是因为Node.js的模块解析算法会检查这个目录来寻找安装的包</p></li><li><p><strong>便于版本控制和部署</strong></p><p><code>node_modules</code>通常不会被提交到版本控制系统（如Git）中，因为依赖可以通过<code>package.json</code>文件中记录的信息重新安装</p><p>这样做可以避免不必要的文件被提交，减小仓库大小，并确保每个环境（开发、测试、生产）都使用确切相同版本的依赖</p></li><li><p><strong>本地化依赖</strong></p><p><code>node_modules</code>目录的存在确保了项目的依赖是本地化的，这意味着不同的项目可以使用不同版本的相同依赖而互不干扰</p><p>这对于处理依赖之间的潜在冲突、实现版本控制非常有帮助</p></li></ol><p><code>node_modules</code>是项目的基石之一，它存储项目所需的所有外部代码，使得开发者不需要手动复制或链接到全局安装的库</p><p>这个机制极大地简化了<code>JavaScript</code>和<code>Node.js</code>的开发流程，同时提高了项目的可移植性和易管理性</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> 多出来一个文件package-lock.json是干什么的 </summary>
              <div class='content'>
              <p><code>package-lock.json</code>是一个由<code>npm</code>自动生成的文件，它在几个方面对<code>Node.js</code>项目非常重要：</p><ol><li><p><strong>锁定依赖版本</strong></p><p>此文件确保每次安装依赖时，无论安装环境或时间如何，都会得到相同版本的依赖</p><p><code>package-lock.json</code>详细记录了项目所使用的每个依赖包的确切版本，包括嵌套依赖（即依赖的依赖）</p></li><li><p><strong>确保一致性</strong></p><p>每当您或您的团队成员运行<code>npm install</code>时，<code>package-lock.json</code>文件都会让安装过程参考这个文件中记载的具体版本，这就确保了每个人的开发环境都是一致的，无论何时进行安装</p></li><li><p><strong>加快安装过程</strong></p><p>因为<code>package-lock.json</code>记录了整个依赖树的详细信息，所以<code>npm</code>可以利用这些信息来跳过部分依赖计算和版本解决步骤，从而加快安装过程</p></li><li><p><strong>安全性</strong></p><p><code>package-lock.json</code>可以为依赖关系树中的每一个包提供更详细的来源信息，包括包的来源地址和哈希校验码</p><p>如果安装的包的哈希码与<code>package-lock.json</code>不一致，<code>npm</code>会警告用户，这能够在一定程度上预防修改或损坏的依赖包对项目的破坏</p></li></ol><p>虽然<code>package-lock.json</code>不需要手动编辑，但它应该和项目一起被提交到版本控制系统（Git仓库）中</p><p>这样确保了所有参与项目的开发者以及部署环境可以使用同样版本的依赖，保持环境之间的一致性</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> devDependencies和dependencies区别是什么 </summary>
              <div class='content'>
              <p>在<code>package.json</code>文件中，<code>dependencies</code>和<code>devDependencies</code>是两种不同类型的依赖声明，它们在Node.js项目中具有不同的用途和重要性：</p><ol><li><p><strong><code>dependencies</code></strong>:</p><ul><li>这些是项目运行时所必需的依赖。无论是在生产环境还是其他环境，只要你的应用正在运行，这里列出的模块就是必需的</li><li>例如，如果你的项目是一个web服务，那么像<code>express</code>这样的包就应该列在<code>dependencies</code>中</li><li>当你运行<code>npm install &lt;package_name&gt;</code>（没有指定任何范围标志）时，包会默认被添加到<code>dependencies</code>中</li></ul></li><li><p><strong><code>devDependencies</code></strong>:</p><ul><li><p>这些依赖仅在开发过程中需要，比如编译工具、测试框架或文档生成工具</p><p>它们不是项目运行时必须的，只是在开发过程中为了测试、构建或编译你的项目而需要</p></li><li><p>举例来说，如果你使用Jest来测试你的项目，那么<code>jest</code>应该被列为一个开发依赖</p></li><li><p>通过运行<code>npm install &lt;package_name&gt; --save-dev</code>来安装并将一个包添加为<code>devDependencies</code></p></li></ul></li></ol><p>主要区别在于它们的使用场景：<code>dependencies</code>是项目运行所需的依赖，而<code>devDependencies</code>是仅在开发过程中需要的依赖</p><p>在进行包管理时正确区分这两种依赖类型，对于确保项目的依赖清单既准确又高效尤为重要</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> webpack-dev-server webpack webpack-cli webpack-merge这4个包是干什么的 </summary>
              <div class='content'>
              <p>下面我将逐一解释它们各自的作用：</p><ul><li><p><strong>webpack-dev-server</strong></p><p> 这是一个轻量级的服务器，它可以提供静态文件服务，同时具备热更新（hot reloading）功能</p><p>当你修改了代码后，它能自动重新加载显示在浏览器上的页面或组件，从而大大提高开发效率</p></li><li><p><strong>webpack</strong>:</p><p>Webpack是一个现代JavaScript应用程序的静态模块打包器（module bundler）</p><p>它会分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其转换和打包为合适的格式以供浏览器使用</p></li><li><p><strong>webpack-cli</strong>:</p><p>这个包提供了可以在命令行中使用的webpack命令，让你能够通过命令行方式来运行webpack的打包、构建等任务</p></li><li><p><strong>webpack-merge</strong>:</p><p>在实际开发过程中，我们常常需要针对不同的环境（如开发环境、生产环境）进行不同的配置，webpack-merge可以帮助我们轻松合并这些配置</p><p>这意味着你可以有一个基本的webpack配置文件，并根据不同的需求，将与环境相关的配置合并进来</p></li></ul><p>为什么创建Webpack项目需要这些包：</p><ul><li><strong>webpack</strong>是核心包，负责整个项目的模块打包和构建</li><li><strong>webpack-cli</strong>允许我们通过命令行接口来使用Webpack，为开发者提供了操作Webpack的便利方式</li><li><strong>webpack-dev-server</strong>提供了一个开发服务器，带有热更新特性，极大地提高了开发效率</li><li><strong>webpack-merge</strong>是为了更灵活地控制不同环境下的配置需求</li></ul>
              </div>
            </details>
<p><br /></p>
<h3 id="3-2-配置文件"><a href="#3-2-配置文件" class="headerlink" title="3.2-配置文件"></a>3.2-配置文件</h3><p>项目内创建<code>webpackConfig</code>目录，用来保存和<code>webpack</code>相关的配置文件，和项目文件分离出来</p>
<p><img src="https://s2.loli.net/2024/05/17/E9k6XNRBlow4Sgt.png" alt="image-20240517172236108"></p>
<h4 id="webpack-common-js公共配置文件"><a href="#webpack-common-js公共配置文件" class="headerlink" title="webpack.common.js公共配置文件"></a><code>webpack.common.js</code>公共配置文件</h4><h5 id="配置模块解析规则-resolve"><a href="#配置模块解析规则-resolve" class="headerlink" title="配置模块解析规则 resolve"></a>配置模块解析规则 resolve</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 引入Node.js的path模块</span></span><br><span class="line"><span class="comment"> * 该模块提供了一系列处理文件路径的函数。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// 配置模块解析规则</span></span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="comment">// 后缀名自动补全，当引入模块时，可以不写具体的后缀名，这里指定了可用的后缀名列表</span></span><br><span class="line">        <span class="attr">extensions</span>: [</span><br><span class="line">            <span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>, <span class="string">&#x27;.css&#x27;</span>, <span class="string">&#x27;less&#x27;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// 配置别名，方便在import时使用简写，提高编码效率</span></span><br><span class="line">        <span class="attr">alias</span>: &#123;</span><br><span class="line">            <span class="comment">// 使用&#x27;@&#x27;作为简写，指向项目的src目录</span></span><br><span class="line">            <span class="string">&#x27;@&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../src&#x27;</span>),</span><br><span class="line">            <span class="comment">// &#x27;cmp&#x27;别名指向组件目录，方便直接引入组件</span></span><br><span class="line">            <span class="string">&#x27;cmp&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../src/components&#x27;</span>),</span><br><span class="line">            <span class="comment">// &#x27;api&#x27;别名指向API接口目录，便于调用接口</span></span><br><span class="line">            <span class="string">&#x27;api&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../src/api&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> extensions的作用 </summary>
              <div class='content'>
              <p>在Webpack的配置文件中，<code>resolve.extensions</code> 数组用于指定哪些文件扩展名可以省略不写</p><p>当你尝试通过 <code>import</code> 或 <code>require</code> 语句导入一个模块，而没有指定文件扩展名时，Webpack将按照 <code>resolve.extensions</code> 数组中指定的顺序尝试解析文件扩展名</p><p>此功能的好处是，当你引入模块时可以不必每次都写上文件的扩展名，从而使得导入语句更简洁。这在一个大型项目中能显著提高开发效率</p><p>以一个Vue 3项目为例，Vue 3通常会使用 <code>.vue</code>文件，同时也可能会包含JavaScript <code>.js</code> 文件或是 TypeScript <code>.ts</code> 文件</p><p>假设你的文件结构如下，并且希望在导入一些文件时不必指定扩展名，只要你写入了上面的<code>resolve.extensions</code>配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">├── components</span><br><span class="line">│   └── MyComponent.vue</span><br><span class="line">└── main.js</span><br></pre></td></tr></table></figure><p>在<code>main.js</code>文件中，你可以像这样导入<code>MyComponent.vue</code>组件，而不需要指定文件扩展名：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">MyComponent</span> <span class="keyword">from</span> <span class="string">&#x27;./components/MyComponent&#x27;</span></span><br></pre></td></tr></table></figure><p>由于<code>.vue</code>在<code>resolve.extensions</code>数组中列出，Webpack会自动解析<code>MyComponent</code>为<code>./components/MyComponent.vue</code></p><p>正确使用这个配置可以简化模块导入语句，减少冗余，提升开发体验</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> alias的作用 </summary>
              <div class='content'>
              <p>在 Webpack 的配置文件中，<code>resolve.alias</code> 配置项允许你为模块路径设置一个或多个别名（alias），这使得在导入模块时可以使用这些简短、易懂的别名，而不是长且复杂的相对路径或绝对路径</p><p>这个功能对于提高代码的可读性和减少在大型项目中导入模块时路径查找的复杂性非常有帮助</p><p>使用 <code>resolve.alias</code> 可以让你在引入模块时更加方便</p><p>对于频繁访问的深层目录，你不再需要写出繁琐的相对路径，从而使代码更加清晰</p><p>假设你的 Vue 3 项目结构如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">project-root/</span><br><span class="line">├─ src/</span><br><span class="line">│  ├─ components/</span><br><span class="line">│  ├─ views/</span><br><span class="line">│  ├─ utils/</span><br><span class="line">│  └─ App.vue</span><br><span class="line">└─ ...</span><br></pre></td></tr></table></figure><p>在没有设置别名的情况下，如果你想从位于 <code>views</code> 目录下的某个组件中导入位于 <code>utils</code> 目录下的某个工具函数，你可能需要写出类似这样的导入语句：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; someUtilityFunction &#125; <span class="keyword">from</span> <span class="string">&#x27;../../utils/someUtilityFunction&#x27;</span>;</span><br></pre></td></tr></table></figure><p>这种相对路径不仅难以阅读，而且当文件结构变动时，路径很可能会被破坏，需要手动更新路径</p><p>通过使用 <code>resolve.alias</code>，我们可以为 <code>utils</code> 目录设置一个别名</p><p>配置后，在项目中就可以使用别名来代替长路径了：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; someUtilityFunction &#125; <span class="keyword">from</span> <span class="string">&#x27;@utils/someUtilityFunction&#x27;</span>;</span><br></pre></td></tr></table></figure><p>同理，<code>@</code> 别名被设置为 <code>src/</code> 目录的路径，因此你可以更方便地从项目的任何地方引用 <code>src</code> 目录下的文件</p><p>使用 <code>resolve.alias</code> 使得模块导入语句更短、清晰，并且当项目目录结构发生变化时，你只需要更新 <code>webpack.config.js</code> 中的相应别名配置，而不需要去每个文件中修改路径，极大提高了维护效率</p>
              </div>
            </details>
<p><br /></p>
<h5 id="配置入口文件entry"><a href="#配置入口文件entry" class="headerlink" title="配置入口文件entry"></a>配置入口文件entry</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    <span class="comment">// 配置入口文件</span></span><br><span class="line">    <span class="attr">entry</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../src/main.js&#x27;</span>),</span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> entry是什么 </summary>
              <div class='content'>
              <p>在Webpack的配置中，<code>entry</code> 属性用于定义入口点（或入口点集），指示Webpack从哪个文件开始构建依赖图</p><p>依赖图用于确定哪些模块和库是项目中需要被打包的</p><p>简单来说，<code>entry</code> 是Webpack开始构建打包过程的起点</p><p><code>entry</code> 的值可以是一个字符串、一个数组，或是一个对象</p><p>对于简单的单页面应用（SPA），通常使用字符串形式直接指向一个文件</p><p>对于更复杂的设置（例如，多页面应用或需要多个入口点的场景），则可以使用对象形式，以便为每个入口指定一个名称及其对应的起始文件</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> Vue里面的main.js可以干什么 </summary>
              <div class='content'>
              <p>对于 Vue.js 项目，<code>main.js</code> 通常是最为常见的入口文件</p><p>在这个文件中，你会创建 Vue 实例，并指定该实例挂载(mount)到页面的哪个元素上</p><p>此外，<code>main.js</code> 也用于执行一些全局性的配置或初始化任务，比如：</p><ul><li>导入 Vue 框架本身</li><li>导入 App 组件，这是应用的根组件</li><li>配置路由(Vue Router)</li><li>配置状态管理(Vuex)，如果项目中使用了</li><li>引入和使用全局样式文件</li><li>配置全局插件、混入(mixins)或自定义指令等</li></ul><p>这表示Webpack将从 <code>src/main.js</code> 文件开始构建依赖图，并进一步分析该文件内部引用的其他模块和库，以决定哪些资源需要被打包</p><p>在 <code>main.js</code> 中，通常会有如下的几项关键任务：</p><ol><li><p><strong>创建和挂载根 Vue 实例</strong></p><p>Vue 应用由一个通过 <code>new Vue()</code> 创建的根 Vue 实例，以及通过 <code>.vue</code> 文件定义的可嵌套的组件树构成</p><p>main.js` 文件负责创建这个实例并将其挂载到 DOM 上</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>全局配置</strong></p><p>在这个阶段，可能会设置Vue的一些全局配置项，比如关闭生产模式下的提示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.productionTip = false;</span><br></pre></td></tr></table></figure></li><li><p><strong>插件和依赖的引入</strong></p><p>如果你的 Vue 项目中使用了 Vue Router、Vuex 或其他 Vue 插件，这些插件通常会在 <code>main.js</code> 中引入并配置</p><p>这确保了这些插件在 Vue 应用的任何地方都可用</p></li></ol>
              </div>
            </details>
<p><br /></p>
<h5 id="配置输出选项output"><a href="#配置输出选项output" class="headerlink" title="配置输出选项output"></a>配置输出选项output</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    <span class="comment">// 配置输出选项</span></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="comment">// 指定输出的文件名，[chunkhash:8]表示使用8位的块哈希值作为文件名的一部分</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;[name].[chunkhash:8].js&#x27;</span>,</span><br><span class="line">        <span class="comment">// 指定输出文件的路径</span></span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../dist&#x27;</span>),</span><br><span class="line">        <span class="comment">// 启用异步块加载</span></span><br><span class="line">        <span class="attr">asyncChunks</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 设置资源的公共路径，对于在页面中引用的静态资源，都将以此路径为基础</span></span><br><span class="line">        <span class="attr">publicPath</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="comment">// 清除上一次打包构建出来的文件</span></span><br><span class="line">        <span class="attr">clean</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在Webpack配置中，<code>output</code> 属性告诉Webpack如何写出它所创建的bundles（打包后的文件），以及在哪里写出它们</p>
<p>这个属性定义了打包过程生成的文件的输出方式和位置</p>
<p>它的配置对于确定你打包后的资源如何分发和使用至关重要</p>
<p><br /></p>
<h5 id="定义模块的规则配置module"><a href="#定义模块的规则配置module" class="headerlink" title="定义模块的规则配置module"></a>定义模块的规则配置module</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// 这里是模块规则的数组，用于配置不同类型的文件如何被处理</span></span><br><span class="line">            <span class="comment">// 每个规则包括测试表达式（test）、加载器（loader）和选项（options）等</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>写好之后进行下一步操作，后续随着配置增加，会给这个rules数组添加新东西</p>
<details class="folding-tag" purple><summary> module可以干什么 </summary>
              <div class='content'>
              <p><code>module</code> 属性用于决定如何处理项目中的不同类型的模块</p><p>Webpack 本身只能理解 JavaScript，如果你要导入 CSS、图片、字体文件，或者其他Web资源，就需要对这些资源使用不同的加载器（loader）</p><p>加载器可以预处理文件，使你能够将任何静态资源当作模块导入</p><p>在Webpack中，加载器可以转换文件，或者是作为其他打包或加载过程的中间步骤</p><p>你可以使用加载器告诉Webpack如何去给特定的文件赋予正确的加载器</p>
              </div>
            </details>
<p><br /></p>
<h5 id="插件配置数组plugins"><a href="#插件配置数组plugins" class="headerlink" title="插件配置数组plugins"></a>插件配置数组plugins</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 这里放置项目使用的插件列表</span></span><br><span class="line">        <span class="comment">// 插件可以执行各种任务，如自动优化和压缩代码、注入环境变量等</span></span><br><span class="line">    ]</span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>写好之后进行下一步操作，后续随着配置增加，会给这个数组添加新东西</p>
<details class="folding-tag" purple><summary> plugins可以干什么 </summary>
              <div class='content'>
              <p><code>plugins</code> 属性用于处理Webpack打包构建过程中的各种任务，扩展Webpack的功能</p><p>它们会在构建过程的不同阶段执行，能够完成各种各样的任务，比如打包优化、资源管理、注入环境变量等</p><p>Webpack插件是一个具有 <code>apply</code> 方法的JavaScript对象</p><p><code>apply</code> 方法会被Webpack compiler调用，并且在整个编译生命周期都可以访问compiler对象</p>
              </div>
            </details>
<p><br /></p>
<h4 id="webpack-dev-js开发环境配置文件"><a href="#webpack-dev-js开发环境配置文件" class="headerlink" title="webpack.dev.js开发环境配置文件"></a><code>webpack.dev.js</code>开发环境配置文件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 合并基础的webpack配置文件与开发环境的特定配置。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@module</span> <span class="variable">exports</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">base</span> - 来自webpack.common.js的基础配置对象。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Object</span>&#125; 返回一个合并后的webpack配置对象，专用于开发环境。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&quot;webpack-merge&quot;</span>) <span class="comment">// 引入webpack合并配置的工具</span></span><br><span class="line"><span class="keyword">const</span> base = <span class="built_in">require</span>(<span class="string">&quot;./webpack.common.js&quot;</span>) <span class="comment">// 引入基础的webpack配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// 设置为开发模式</span></span><br><span class="line">    <span class="attr">devtool</span>: <span class="string">&quot;source-map&quot;</span>, <span class="comment">// 启用source-map，便于调试</span></span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">compress</span>: <span class="literal">true</span>, <span class="comment">// 启用gzip压缩</span></span><br><span class="line">        <span class="attr">port</span>: <span class="number">3000</span>, <span class="comment">// 设置监听的端口号</span></span><br><span class="line">        <span class="attr">hot</span>: <span class="literal">true</span>, <span class="comment">// 启用热更新</span></span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// 自动打开浏览器</span></span><br><span class="line">        <span class="attr">historyApiFallback</span>: <span class="literal">true</span>, <span class="comment">// 使得HTML5 History API可以正常工作</span></span><br><span class="line">        <span class="attr">client</span>: &#123;</span><br><span class="line">            <span class="attr">progress</span>: <span class="literal">true</span>, <span class="comment">// 显示编译进度</span></span><br><span class="line">            <span class="attr">logging</span>: <span class="string">&#x27;error&#x27;</span>, <span class="comment">// 仅输出错误日志</span></span><br><span class="line">            <span class="attr">overlay</span>: &#123;</span><br><span class="line">                <span class="attr">errors</span>: <span class="literal">true</span>, <span class="comment">// 在浏览器上覆盖错误警告</span></span><br><span class="line">                <span class="attr">warnings</span>: <span class="literal">true</span> <span class="comment">// 在浏览器上覆盖警告</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">proxy</span>: &#123;</span><br><span class="line">            <span class="comment">// 设置对&quot;/apis&quot;开头的请求的代理</span></span><br><span class="line">            <span class="string">&quot;/apis&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">target</span>: <span class="string">&quot;your-target-url&quot;</span>, <span class="comment">// 目标服务器URL</span></span><br><span class="line">                <span class="attr">pathRewrite</span>: &#123;<span class="string">&quot;^/apis&quot;</span>: <span class="string">&quot;&quot;</span> &#125;, <span class="comment">// 将请求路径中的&quot;/apis&quot;移除</span></span><br><span class="line">                <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// 设置请求的origin为目标服务器的origin</span></span><br><span class="line">                <span class="attr">secure</span>: <span class="literal">false</span> <span class="comment">// 目标服务器地址是否为https，false表示不是</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这段代码使用 <code>webpack-merge</code> 工具来合并基础的Webpack配置和开发环境特定的配置，生成一个适用于开发环境的Webpack配置对象</p>
<ol>
<li><p>引入了 “<code>webpack-merge</code>“ 模块的 “<code>merge</code>“ 函数</p>
<p><code>webpack-merge</code> 是一个可以简化多个Webpack配置合并的工具</p>
</li>
<li><p>引入了基础的Webpack配置文件 “<code>webpack.common.js</code>“</p>
<p>这个文件包含适用于开发和生产环境的通用配置</p>
</li>
<li><p>使用 “<code>module.exports</code>“ 导出了合并后的Webpack配置对象</p>
<p>我们通过调用 “<code>merge</code>“ 函数并传递基础配置（”<code>base</code>“）及开发特定配置实现配置的合并</p>
<p>合并的配置包括：</p>
<ul>
<li><code>mode: &#39;development&#39;</code>：设置Webpack的模式为开发模式。这会启用一些默认的Webpack优化，方便开发者进行调试</li>
<li><code>devtool: &quot;source-map&quot;</code>：启用source-map，这有助于调试代码，因为它可以让你看到原始代码而不是转换后的代码</li>
<li><code>devServer</code>：配置了Webpack的开发服务器（<code>webpack-dev-server</code>）的相关选项，提升开发体验<ul>
<li><code>compress: true</code>: 启用gzip压缩，加快文件传输速率</li>
<li><code>port: 3000</code>: 开发服务器监听的端口号设为3000</li>
<li><code>hot: true</code>: 启用热替换功能(HMR)，无需完全刷新浏览器就可以更新模块</li>
<li><code>open: true</code>: 在开发服务器启动时自动打开浏览器</li>
<li><code>historyApiFallback: true</code>: 当使用HTML5 History API时，任意的404响应都可能需要被替换为<code>index.html</code></li>
<li>client: 配置客户端执行期间的选项，如进度展示和日志级别<ul>
<li><code>progress: true</code>: 在客户端（浏览器）显示编译进度</li>
<li><code>logging: &#39;error&#39;</code>: 仅在客户端记录错误日志</li>
<li><code>overlay</code>: 在发生错误或警告时，通过覆盖层在浏览器上直接显示</li>
</ul>
</li>
</ul>
</li>
<li><code>proxy</code>: 配置了一个代理，用于在开发过程中跨域请求API<ul>
<li>对于以”/apis”开头的请求，请求会被代理到指定的 “<code>target</code>“ URL</li>
<li><code>pathRewrite</code> 用于重写URL路径，这里把路径中的”/apis”移除</li>
<li><code>changeOrigin</code>: 设置为true来伪装请求的源头，使目标服务器认为请求是从自己的域名发起的</li>
<li><code>secure: false</code>: 如果目标服务器不是HTTPS，这个选项要设置为false</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><br /></p>
<h4 id="webpack-pros-js生产环境配置文件"><a href="#webpack-pros-js生产环境配置文件" class="headerlink" title="webpack.pros.js生产环境配置文件"></a><code>webpack.pros.js</code>生产环境配置文件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&quot;webpack-merge&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> base = <span class="built_in">require</span>(<span class="string">&quot;./webpack.common.js&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">       </span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><br /></p>
<details class="folding-tag" purple><summary> 为什么webpack的配置文件要用module.exports </summary>
              <div class='content'>
              <p>使用 <code>module.exports</code> 来导出 <code>Webpack</code> 的配置文件是因为<code>Webpack</code>配置文件本质上是一个<code>Node.js</code>模块</p><p>在<code>Node.js</code>中，<code>module.exports</code> 是 <code>CommonJS</code> 规范的一部分，用于指定一个模块导出的内容，使其可以被其他模块通过 <code>require()</code> 函数导入和使用</p><p><code>Webpack</code> 本身是一个运行在 <code>Node.js</code> 环境中的模块打包工具，它的配置文件 <code>webpack.config.js</code> 就是一个普通的 <code>Node.js</code> 模块</p><p>当你运行 <code>webpack</code> 命令时，<code>Webpack</code> 会通过 <code>require()</code> 来加载这个配置文件，然后读取其中用 <code>module.exports</code> 导出的配置对象</p><p>这些配置包含了入口文件、输出路径、加载器（<code>loaders</code>）、插件（<code>plugins</code>）和其他配置项</p><p>使用 <code>module.exports</code> 的好处之一是它支持更加灵活和复杂的配置逻辑</p><p>由于 <code>webpack.config.js</code> 是一个普通的 <code>Node.js</code> 模块，你不仅可以导出一个对象，还可以在模块中使用 JavaScript 代码来生成配置</p><p>这意味着你可以根据不同的环境变量来动态地更改配置，或者根据需要编写和组合多个配置对象</p>
              </div>
            </details>
<p><br /></p>
<h4 id="修改script启动项目命令"><a href="#修改script启动项目命令" class="headerlink" title="修改script启动项目命令"></a>修改script启动项目命令</h4><p>运行这段命令，安装<code>cross-env</code>包，用于设置跨平台环境变量，通常用于设置NODE_ENV等环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cross-env --save-dev</span><br></pre></td></tr></table></figure>
<p>然后修改<code>package.json</code>文件的<code>script</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=development webpack serve --config ./webpackConfig/webpack.dev.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=production webpack --config ./webpackConfig/webpack.prod.js&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<ol>
<li><p>dev脚本</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=development webpack serve --config config/webpack.dev.js&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>cross-env</strong></p>
<p>这是一个跨平台的环境变量设置工具</p>
<p>确保无论在什么操作系统上（例如Windows，Linux，或macOS），都能以一致的方式设置和使用环境变量</p>
<p>在这里，它被用来设置<code>NODE_ENV</code>环境变量的值为<code>development</code></p>
</li>
<li><p><strong>NODE_ENV=development</strong></p>
<p>设置环境变量<code>NODE_ENV</code>的值为<code>development</code>，通常这个设置被用来通知脚本运行在开发环境中</p>
<p>很多工具和框架，如Webpack和Babel，会根据这个值调整它们的行为，例如启用更适合开发的配置（更详细的错误消息，源代码映射等）</p>
</li>
<li><p><strong>webpack serve</strong></p>
<p>这是启动Webpack的开发服务器<code>webpack-dev-server</code>的命令</p>
<p>webpack-dev-server`提供一个简单的web服务器和能够实时重新加载（live reloading）的能力</p>
</li>
<li><p><strong>—config config/webpack.dev.js</strong>:</p>
<p>这个参数告诉Webpack使用特定的配置文件启动</p>
<p>在这个例子里，使用的是<code>config/webpack.dev.js</code>文件</p>
<p>该文件应该包含了开发环境特定的Webpack配置</p>
</li>
</ul>
</li>
<li><p>build脚本</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=production webpack --config ./config/webpack.prod.js&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>cross-env NODE_ENV=production</strong></p>
<p>类似于<code>dev</code>脚本，但这里设置的环境变量<code>NODE_ENV</code>的值为<code>production</code>，意味着接下来的操作是为生产环境准备的</p>
<p>在生产环境中，通常需要代码压缩、优化等操作，以确保应用运行高效、安全</p>
</li>
<li><p><strong>webpack</strong></p>
<p>这是启动Webpack的构建过程的命令</p>
<p>与<code>webpack serve</code>不同，这个命令是用于生成生产环境下使用的打包文件，并不启动一个开发服务器</p>
</li>
<li><p><strong>—config ./config/webpack.prod.js</strong></p>
<p>类似于<code>dev</code>脚本，但这里使用的是针对生产环境优化的Webpack配置文件：<code>webpack.prod.js</code></p>
</li>
</ul>
</li>
</ol>
<p><br /></p>
<h3 id="3-3-Vue系列"><a href="#3-3-Vue系列" class="headerlink" title="3.3-Vue系列"></a>3.3-Vue系列</h3><p>安装<code>Vue3</code>全家桶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue3 vue-router pinia</span><br></pre></td></tr></table></figure>
<p>这时候会发现<code>package.json</code>文件的<code>dependencies</code>多出来3个<code>npm</code>包</p>
<p><img src="https://s2.loli.net/2024/05/20/CxLR8aoK6Ap1JHy.png" alt="image-20240520114428180"></p>
<p>这时候我们的<code>Vue3</code>已经安装好了，我们直接创建项目文件去测试打包</p>
<h4 id="新建src文件"><a href="#新建src文件" class="headerlink" title="新建src文件"></a>新建src文件</h4><p>这个目录是我们<code>Vue</code>项目的主要存放地方，所有<code>Vue</code>的东西都是包含在这里面的</p>
<h4 id="新建assets"><a href="#新建assets" class="headerlink" title="新建assets"></a>新建assets</h4><p>这个目录主要存放我们的资源：图片、字体、css</p>
<h4 id="新建apis"><a href="#新建apis" class="headerlink" title="新建apis"></a>新建apis</h4><p>这个目录主要存放我们的接口，分成不同的模块js文件去存放对应的接口</p>
<h4 id="新建utils"><a href="#新建utils" class="headerlink" title="新建utils"></a>新建utils</h4><p>这个目录主要存放我们的一些公共函数</p>
<h4 id="新建hooks"><a href="#新建hooks" class="headerlink" title="新建hooks"></a>新建hooks</h4><p>这个目录主要存放我们的一些hooks函数</p>
<h4 id="新建components"><a href="#新建components" class="headerlink" title="新建components"></a>新建components</h4><p>这个目录主要存放我们的公共组件</p>
<h4 id="新建store"><a href="#新建store" class="headerlink" title="新建store"></a>新建store</h4><p>这个目录是要存放公共状态管理，是<code>pinia</code>的使用入口</p>
<h4 id="新建views"><a href="#新建views" class="headerlink" title="新建views"></a>新建views</h4><p>这个目录存放项目的Vue主要页面</p>
<h4 id="新建main-js"><a href="#新建main-js" class="headerlink" title="新建main.js"></a>新建main.js</h4><p>这个文件是Webpack的项目入口，也是Vue的实例创建文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description: Vue入口文件</span></span><br><span class="line"><span class="comment"> * @Author: 5t5</span></span><br><span class="line"><span class="comment"> * @Time: 2024/5/17 17:04</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 创建Vue</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入Pinia</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store/store&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(store)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入Router</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/router&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>到此为止的目录结构如下：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">├─node<span class="emphasis">_modules     </span></span><br><span class="line"><span class="emphasis">├─src</span></span><br><span class="line"><span class="emphasis">│  ├─apis         // 项目接口</span></span><br><span class="line"><span class="emphasis">│  ├─assets       // css、图片、字体资源</span></span><br><span class="line"><span class="emphasis">│  │  ├─css</span></span><br><span class="line"><span class="emphasis">│  │  ├─fonts</span></span><br><span class="line"><span class="emphasis">│  │  └─images</span></span><br><span class="line"><span class="emphasis">│  ├─components   // 公共组件</span></span><br><span class="line"><span class="emphasis">│  ├─directive    // 自定义指令</span></span><br><span class="line"><span class="emphasis">│  ├─hooks        // hooks函数</span></span><br><span class="line"><span class="emphasis">│  ├─router       // 路由管理</span></span><br><span class="line"><span class="emphasis">│  ├─store        // Pinia状态管理</span></span><br><span class="line"><span class="emphasis">│  │  └─modules</span></span><br><span class="line"><span class="emphasis">│  ├─utils        // 公共工具函数</span></span><br><span class="line"><span class="emphasis">│  └─views        // 项目页面</span></span><br><span class="line"><span class="emphasis">│      ├─Home</span></span><br><span class="line"><span class="emphasis">│      └─Login</span></span><br><span class="line"><span class="emphasis">└─webpackConfig   // webpack公共、开发、生产配置</span></span><br></pre></td></tr></table></figure>
<h4 id="指定html文件"><a href="#指定html文件" class="headerlink" title="指定html文件"></a>指定html文件</h4><p>在项目的根目录下面新建一个<code>index.html</code>文件，内容如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Create Vue3<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>这一段千万不能变，因为上面我们的<code>main.js</code>里面挂载到<code>#app</code>这个节点上面</p>
<p>所以如果这里的<code>id</code>改变的话，<code>main.js</code>里面的也要改变</p>
<p>接着运行这段命令，安装一下<code>html-webpack-plugin</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
<p>这个插件可以帮助我们将打包好的文件都引入到<code>index.html</code>里面，不再需要我们自己手动去引入</p>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 这里放置项目使用的插件列表</span></span><br><span class="line">        <span class="comment">// 插件可以执行各种任务，如自动优化和压缩代码、注入环境变量等</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: <span class="string">&#x27;./index.html&#x27;</span>,</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;./index.html&#x27;</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;Vue3 + webpack -&gt; Web App&#x27;</span>,</span><br><span class="line">            <span class="attr">minify</span>: &#123;</span><br><span class="line">                <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>, <span class="comment">// 去掉空格</span></span><br><span class="line">                <span class="attr">removeComments</span>: <span class="literal">true</span> <span class="comment">// 去掉注释</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> html-webpack-plugin可以干什么 </summary>
              <div class='content'>
              <p><code>html-webpack-plugin</code> 是一个用于处理 <code>HTML</code> 文件的 <code>Webpack</code> 插件，它非常的实用并且在 <code>Webpack</code> 项目中被广泛使用</p><p>它的主要功能包括：</p><ol><li><p>生成一个新的 <code>HTML</code> 文件</p><p>一旦插件被加入到 <code>webpack</code> 配置中，运行 <code>webpack</code> 打包后会在 <code>output</code> 指定的目录下生成一个新的 <code>HTML</code> 文件</p></li><li><p>自动引入打包生成的 <code>JavaScript</code> 和 <code>CSS</code> 文件</p><p>生成的 <code>HTML</code> 文件会自动包含 <code>webpack</code> 打包生成的所有 <code>JavaScript</code> 和 <code>CSS</code> 文件的引用。插件会自动添加 <code>script</code> 和 <code>link</code> 标签</p></li><li><p>可以使用模板</p><p>你可以自定义一个 <code>HTML</code> 文件作为模板</p><p>插件会以此模板为基础来生成最终的 <code>HTML</code> 文件</p><p>模板文件可以包含一些特殊的占位符，插件在生成 HTML 文件时会自动对这些占位符进行替换</p><p>例如，你可以在模板的 <code>title</code> 标签中使用 <code>&lt;%= htmlWebpackPlugin.options.title %&gt;</code>，这样就可以在 <code>webpack</code> 配置中通过 <code>html-webpack-plugin</code> 的 <code>options</code> 自定义你的 <code>title</code></p></li></ol><p>这个插件非常适合用来生成单页应用程序（SPA）的 <code>HTML</code> 文件</p><p>因为在这种应用程序中，通常只需要一个包含所有 <code>JavaScript</code> 和 <code>CSS</code> 引用的 <code>HTML</code> 文件</p><p>另外，你也可以在多页面应用程序（MPA）使用此插件，每个页面实例化一个插件的实例</p><p>它与 <code>webpack-dev-server</code> 的 <code>hot module replacement</code> 功能 (HMR) 无缝集成，使开发过程更为流畅</p>
              </div>
            </details>
<h4 id="让webpack可以识别Vue"><a href="#让webpack可以识别Vue" class="headerlink" title="让webpack可以识别Vue"></a>让webpack可以识别Vue</h4><p><code>webpack</code>是一个智能识别<code>js</code>文件的打包器，想要识别<code>vue</code>，就需要<code>vue</code>相关的加载器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-loader @vue/compiler-sfc --save-dev</span><br></pre></td></tr></table></figure>
<p><code>vue-loader</code> 和 <code>@vue/compiler-sfc</code> 是 Vue.js 单文件组件（Single File Components, SFC）的处理工具</p>
<p>它们在将 <code>.vue</code> 文件转换为 JavaScript 模块的过程中起到了核心作用</p>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue-loader配置</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">VueLoaderPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// 这里是模块规则的数组，用于配置不同类型的文件如何被处理</span></span><br><span class="line">            <span class="comment">// 每个规则包括测试表达式（test）、加载器（loader）和选项（options）等</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 匹配.vue文件</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">                <span class="comment">// 使用vue-loader处理</span></span><br><span class="line">                <span class="attr">loader</span>: <span class="string">&#x27;vue-loader&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 这里放置项目使用的插件列表</span></span><br><span class="line">        <span class="comment">// 插件可以执行各种任务，如自动优化和压缩代码、注入环境变量等</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// VueLoaderPlugin是一个Vue.js的加载器插件，它自动处理Vue组件的加载</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">VueLoaderPlugin</span>(),</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> @vue/compiler-sfc可以干什么 </summary>
              <div class='content'>
              <ul><li><code>@vue/compiler-sfc</code> 是 Vue 3 的一个官方库，主要用于编译 Vue 3 的单文件组件</li><li>它包含 Vue 3 的 SFC 编译逻辑，并负责将组件模板编译为渲染函数</li><li>使用这个库可以解析 <code>.vue</code> 文件的 <code>&lt;template&gt;</code>、<code>&lt;script&gt;</code>、<code>&lt;style&gt;</code> 以及其他自定义块，并编译模板成为渲染函数</li><li><code>@vue/compiler-sfc</code> 通常和 <code>vue-loader</code> 一同工作，在 webpack 构建流程中协同工作，进行源码到最终 JavaScript 代码的转换</li></ul>
              </div>
            </details>
<details class="folding-tag" purple><summary> vue-loader可以干什么 </summary>
              <div class='content'>
              <ul><li><p><code>vue-loader</code> </p><p>一个 webpack 的 loader，它允许你以一种名为单文件组件（SFCs）的格式编写 Vue 组件</p><p>SFCs 通常保存在扩展名为 <code>.vue</code> 的文件中</p></li><li><p><code>.vue</code> 文件是一个自定义的文件类型，它允许开发者将一个组件的模板、脚本和样式封装在单个文件中</p></li><li><p>在构建过程中，<code>vue-loader</code> 会解析文件，抽取每个语言块（template、script、style 等），并需要相应的 loader 来处理它们，例如 <code>vue-template-compiler</code> 用于模板编译、<code>css-loader</code> 用于处理 CSS、<code>babel-loader</code> 用于处理 JavaScript 等</p></li></ul>
              </div>
            </details>
<p><br /></p>
<h4 id="测试运行"><a href="#测试运行" class="headerlink" title="测试运行"></a>测试运行</h4><p>控制台输入<code>npm run dev</code></p>
<p>这时候编辑器会自动在打包好以后给你在浏览器打开端口3000的地址</p>
<p><img src="https://s2.loli.net/2024/05/20/AXjsW5o4YJR1FMx.png" alt="image-20240520161359316"></p>
<p><br /></p>
<h4 id="控制台警告"><a href="#控制台警告" class="headerlink" title="控制台警告"></a>控制台警告</h4><p>打开控制台会发现</p>
<blockquote>
<p>[!WARNING]</p>
<p>Feature flags <strong>VUE_OPTIONS_API</strong>, <strong>VUE_PROD_DEVTOOLS</strong>, <strong>VUE_PROD_HYDRATION_MISMATCH_DETAILS</strong> are not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.</p>
</blockquote>
<p>这是因为你正在使用 Vue 的 ESM Bundler 构建，但没有在你的构建配置中显式地定义这些 Vue 的特性标志（Feature flag）</p>
<p>这些特性标志在 Vue 3 中用于启用或禁用 Vue 的一些特性</p>
<ul>
<li><p><code>__VUE_OPTIONS_API__</code></p>
<p>是否启用 Options API，如果你仅使用 Composition API，可以将其设置为 false，以减小最终的构建大小</p>
</li>
<li><p><code>__VUE_PROD_DEVTOOLS__</code></p>
<p>是否在生产环境中启用 Vue Devtools，如果不需要，可以设置为 false 来优化应用性能</p>
</li>
<li><p><code>__VUE_PROD_HYDRATION_MISMATCH_DETAILS__</code></p>
<p>对于服务器端渲染 (SSR) 的应用，是否应在生产环境中公开 hydration 不匹配细节，为了避免关键的信息泄露，可以设置为 false</p>
</li>
</ul>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">      <span class="attr">__VUE_OPTIONS_API__</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">__VUE_PROD_DEVTOOLS__</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">__VUE_PROD_HYDRATION_MISMATCH_DETAILS__</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="3-4-样式系列"><a href="#3-4-样式系列" class="headerlink" title="3.4-样式系列"></a>3.4-样式系列</h3><p>在前端工程化里面，常用的预编译的<code>css</code>就是<code>less</code>、<code>scss</code>、<code>sass</code>，这里我们选用<code>less</code>来作为项目的预编译器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install css-loader style-loader less-loader less --save-dev</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue-loader配置</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">VueLoaderPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// 这里是模块规则的数组，用于配置不同类型的文件如何被处理</span></span><br><span class="line">            <span class="comment">// 每个规则包括测试表达式（test）、加载器（loader）和选项（options）等</span></span><br><span class="line">    </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 匹配.css文件</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="comment">// 将CSS样式插入到DOM中</span></span><br><span class="line">                    <span class="string">&quot;style-loader&quot;</span>,</span><br><span class="line">                    <span class="comment">// 处理CSS文件，支持模块化、压缩等</span></span><br><span class="line">                    <span class="string">&quot;css-loader&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 匹配.less文件</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="comment">// 将CSS样式插入到DOM中</span></span><br><span class="line">                    <span class="string">&quot;style-loader&quot;</span>,</span><br><span class="line">                    <span class="comment">// 处理CSS文件，支持模块化、压缩等</span></span><br><span class="line">                    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">                    <span class="comment">// 编译LESS到CSS</span></span><br><span class="line">                    <span class="string">&quot;less-loader&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> 为什么样式的use需要这么写 </summary>
              <div class='content'>
              <ol><li><p><strong>处理顺序</strong></p><p><code>webpack</code> 使用 <code>loaders</code> 时遵循从右到左（或从下到上）的处理顺序</p><p>也就是说，在 <code>.less</code> 文件的处理链中，<code>less-loader</code> 首先工作，将 <code>LESS</code> 代码编译成 <code>CSS</code></p><p>然后 <code>css-loader</code> 处理得到的 <code>CSS</code> 代码，支持模块化等特性</p><p>最后 <code>style-loader</code> 将最终的 <code>CSS</code> 代码插入到 <code>DOM</code> 中</p><p>对于 <code>.css</code> 文件，由于不需要编译，所以不用 <code>less-loader</code></p></li><li><p><strong>功能划分</strong></p><p>每个 <code>loader</code> 都有自己的责任范围。<code>style-loader</code> 负责样式的加载到 <code>DOM</code>，<code>css-loader</code> 负责处理 CSS 文件中的依赖（如<code>@import</code>、<code>url()</code>等），<code>less-loader</code> 负责将 <code>LESS</code> 编译成 <code>CSS</code></p><p>这样的设计使得 <code>webpack</code> 配置更加灵活和模块化</p></li></ol>
              </div>
            </details>
<details class="folding-tag" purple><summary> css预编译是什么 </summary>
              <div class='content'>
              <p><code>CSS</code> 预编译器是一种用于扩展 <code>CSS</code> 语言的工具，它允许开发者使用更动态、更丰富的语法来书写样式，然后再将这些代码编译成标准的 <code>CSS</code> 文件，以便浏览器可以解析</p><p><code>CSS</code> 预编译器添加了许多编程特性，比如变量、嵌套规则、混入（<code>Mixins</code>）、函数等，这些特性使得编写 <code>CSS</code> 更加高效和可维护</p><ul><li><p><strong>Sass(SCSS)</strong></p><p>提供了很多高级功能，如变量，嵌套和混合等</p><p><code>Sass</code> 的语法是符合 <code>CSS3</code> 标准的，因此它看起来就像是增强了的 <code>CSS</code> 代码</p></li><li><p><strong>LESS</strong></p><p>与 Sass 类似，也提供了变量，嵌套，混合以及其他高级功能，主要差异在于语法和一些功能的实现</p></li><li><p><strong>Stylus</strong></p><p>提供了强大的功能和极其灵活的语法，与其他预处理器相比，它有着更加丰富的选择和高度的自定义</p></li></ul><p>使用 <code>CSS</code> 预处理器的好处包括：</p><ol><li><strong>更轻松地维护大型样式表</strong>：通过嵌套规则，可以更清晰地表示元素之间的层级关系</li><li><strong>代码的复用</strong>：使用混合（<code>mixins</code>），可以将一组属性从一个规则集引入到另一个规则集</li><li><strong>更快的开发速度</strong>：可以定义具有有参数的混合，以及使用循环构建复杂的样式网络</li><li><strong>更丰富的表现力</strong>：使用函数和条件语句可以更灵活地控制样式</li><li><strong>代码组织</strong>：允许分割 <code>CSS</code> 到多个文件中，可以有助于组织和管理样式代码</li></ol><p>这些预处理器通常需要使用特定的构建工具（如 <code>webpack</code> 或 <code>Gulp</code>）来编译为浏览器可解析的标准 <code>CSS</code> 文件</p><p>在现代 <code>web</code> 开发流程中，这些工具通常会集成在自动化构建系统中，以优化开发流程</p>
              </div>
            </details>
<p><br /></p>
<h2 id="四、优化项目"><a href="#四、优化项目" class="headerlink" title="四、优化项目"></a>四、优化项目</h2><h3 id="4-1-Javascript代码兼容"><a href="#4-1-Javascript代码兼容" class="headerlink" title="4.1-Javascript代码兼容"></a>4.1-Javascript代码兼容</h3><p>运行命令安装<code>npm</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-loader @babel/core @babel/plugin-transform-runtime @babel/preset-env @babel/plugin-proposal-class-properties</span><br></pre></td></tr></table></figure>
<p>通过合并这些工具，你可以编写使用最新JavaScript语法（ES6/ES7及以上）的代码，然后将其转译为更广泛兼容的JavaScript版本（通常是ES5），以确保你的应用或网站可以在旧版浏览器和环境中运行</p>
<p>这对于前端项目来说是非常重要的，因为这意味着开发者可以利用最新的语言特性来编写更简洁、更易于维护的代码，同时又不牺牲兼容性</p>
<p>项目目录下新建<code>.babelrc</code>的配置文件并写入</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@babel/preset-env&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="punctuation">,</span> <span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="string">&#x27;babel-loader&#x27;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">                </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> babel-loader干什么的 </summary>
              <div class='content'>
              <p>这是一个Webpack的loader，用于在Webpack构建过程中调用Babel转译器</p><p>它允许Webpack处理JavaScript代码，将其通过Babel转换成浏览器兼容的版本</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> @babel/plugin-transform-runtime干什么的 </summary>
              <div class='content'>
              <p>这个插件优化了Babel转译过程中的辅助代码</p><p>使用这个插件后，可以减少编译后代码的冗余（比如，避免多个文件重复包含同一辅助函数)，并能够使用<code>@babel/runtime</code>包来重复使用Babel转译的辅助代码</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> @babel/plugin-proposal-class-properties干什么的 </summary>
              <div class='content'>
              <p>这个Babel插件使你能在JavaScript类中使用静态属性和实例属性的声明语法</p><p>此特性曾是草案提案的一部分，在未来版本的JavaScript正式标准中得到支持之前，这个插件可以让你在当前的JavaScript代码中使用这些特性</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> @babel/core干什么的 </summary>
              <div class='content'>
              <p>Babel的核心功能包含在这个包中</p><p>它提供了Babel转译器的核心API，用于转译JavaScript代码</p><p>没有它，Babel的其他插件或预设都无法运行</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> @babel/preset-env干什么的 </summary>
              <div class='content'>
              <p>一个Babel预设（preset）是一系列插件的集合，旨在支持特定的语言特性</p><p><code>@babel/preset-env</code>是一个智能预设，它能够根据你的目标环境（如特定版本的浏览器或Node.js）自动确定需要转译的JavaScript特性</p><p>它可以让你使用最新的JavaScript，而不用担心兼容性问题</p><p><code>@babel/preset-env</code>根据<code>browserslist</code>配置，只包含所需的Babel插件和polyfills来转译新的JavaScript语法，从而为你的目标环境量身定制输出</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-2-Css代码兼容"><a href="#4-2-Css代码兼容" class="headerlink" title="4.2-Css代码兼容"></a>4.2-Css代码兼容</h3><p>运行命令安装<code>npm</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss-loader postcss-flexbugs-fixes postcss-preset-env postcss-normalize autoprefixer postcss-nested --save-dev</span><br></pre></td></tr></table></figure>
<p><code>user-select</code>是一个很特殊的属性, 因为针对不同的浏览器要对它做不同的适配</p>
<p>这个写法兼容了这个属性</p>
<p>项目目录下创建<code>.browserslistrc</code>文件添加下面代码</p>
<p>用于指明想要支持的浏览器版本</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">last <span class="number">1</span> version</span><br><span class="line">&gt; <span class="number">1</span>%</span><br><span class="line">IE <span class="number">10</span></span><br></pre></td></tr></table></figure>
<p>项目目录下创建<code>postcss.config.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flexbugsFixes = <span class="built_in">require</span>(<span class="string">&#x27;postcss-flexbugs-fixes&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> presetEnv = <span class="built_in">require</span>(<span class="string">&#x27;postcss-preset-env&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> normalize = <span class="built_in">require</span>(<span class="string">&#x27;postcss-normalize&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> nested = <span class="built_in">require</span>(<span class="string">&#x27;postcss-nested&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出一个配置对象，用于PostCSS的处理</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// 标识这个配置是为PostCSS准备的</span></span><br><span class="line">    <span class="attr">ident</span>: <span class="string">&#x27;postcss&#x27;</span>,</span><br><span class="line">    <span class="comment">// 使用的插件列表</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        flexbugsFixes,</span><br><span class="line">        <span class="title function_">presetEnv</span>(&#123;</span><br><span class="line">            <span class="attr">autoprefixer</span>: &#123;</span><br><span class="line">                <span class="attr">flexbox</span>: <span class="string">&#x27;no-2009&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">stage</span>: <span class="number">3</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="title function_">normalize</span>(),</span><br><span class="line">        nested</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">sourceMap</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">    		&#123;</span><br><span class="line">                <span class="comment">// 匹配.css文件的规则配置</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="comment">// 根据开发环境选择使用style-loader或将CSS提取到单独的文件中</span></span><br><span class="line">                    <span class="title class_">IsDev</span> ? <span class="string">&quot;style-loader&quot;</span> : <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">                    <span class="comment">// 对CSS文件进行处理，支持模块化、压缩等操作</span></span><br><span class="line">                    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;postcss-loader&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">                </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 匹配.less文件的规则配置</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="comment">// 同上，根据开发环境选择合适的CSS加载器</span></span><br><span class="line">                    <span class="title class_">IsDev</span> ? <span class="string">&quot;style-loader&quot;</span> : <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">                    <span class="comment">// 处理CSS文件，支持模块化、压缩等</span></span><br><span class="line">                    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">                    <span class="comment">// 将LESS编译为CSS</span></span><br><span class="line">                    <span class="string">&quot;less-loader&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">                </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> postcss-loader可以干什么 </summary>
              <div class='content'>
              <p>用于在Webpack中集成PostCSS</p><p>它允许你使用PostCSS来处理CSS文件，通常与其他PostCSS插件配合使用</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> postcss-flexbugs-fixes可以干什么 </summary>
              <div class='content'>
              <p>一个PostCSS插件，用于尝试修复一些常见的flexbox的bug</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> postcss-preset-env可以干什么 </summary>
              <div class='content'>
              <p>这个插件包含了一组现代的CSS特性，使开发者可以使用未来CSS标准的语法，并且会根据浏览器的兼容情况自动做出适当的转换</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> postcss-normalize可以干什么 </summary>
              <div class='content'>
              <p>根据<code>browserslist</code>配置和CSS规则自动引入适当的<code>normalize.css</code>内容，以确保不同浏览器之间的一致性</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> autoprefixer可以干什么 </summary>
              <div class='content'>
              <p>一个自动添加浏览器前缀的PostCSS插件，使开发者编写的CSS规则兼容多种浏览器</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> postcss-nested可以干什么 </summary>
              <div class='content'>
              <p>允许你在写CSS时使用嵌套语法，类似于Sass和Less之类的预处理器提供的功能</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-3-压缩Javascript代码"><a href="#4-3-压缩Javascript代码" class="headerlink" title="4.3-压缩Javascript代码"></a>4.3-压缩Javascript代码</h3><p>在开发环境中，通常更关注的是构建速度和增量构建的效率，以便快速预览和测试更改</p>
<p>因此，开发环境下一般不会开启压缩这样的耗时步骤</p>
<p>相对的，生产环境打包时的目标是减少应用的加载时间和网络传输成本，所以会使用<code>terser-webpack-plugin</code>这样的压缩工具来移除JavaScript代码中的所有多余空格、注释、未使用的代码等，以实现代码的最小化</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install terser-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.prod.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 压缩代码</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;terser-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">minimize</span>: <span class="literal">true</span>, <span class="comment">// 开启代码压缩</span></span><br><span class="line">        <span class="attr">minimizer</span>: [</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123; <span class="comment">// 使用TerserPlugin作为压缩工具</span></span><br><span class="line">                <span class="attr">terserOptions</span>: &#123;</span><br><span class="line">                    <span class="attr">mangle</span>: &#123; <span class="comment">// 代码混淆相关选项</span></span><br><span class="line">                        <span class="attr">safari10</span>: <span class="literal">true</span>, <span class="comment">// 处理Safari 10/11的bug，避免在这些老版本Safari浏览器中出现的“删除”bug（删除let和const变量会抛出错误）</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="attr">compress</span>: &#123; <span class="comment">// 代码压缩相关选项</span></span><br><span class="line">                        <span class="comment">// 下面的选项都是用来指定terser在压缩过程中是否应用某些转换</span></span><br><span class="line">                        <span class="attr">arrows</span>: <span class="literal">false</span>, <span class="comment">// 不转换箭头函数为ES5函数表达式</span></span><br><span class="line">                        <span class="attr">collapse_vars</span>: <span class="literal">false</span>, <span class="comment">// 不折叠具有单一使用的变量</span></span><br><span class="line">                        <span class="attr">comparisons</span>: <span class="literal">false</span>, <span class="comment">// 不进行优化比较操作</span></span><br><span class="line">                        <span class="attr">computed_props</span>: <span class="literal">false</span>, <span class="comment">// 不优化计算属性</span></span><br><span class="line">                        <span class="attr">hoist_funs</span>: <span class="literal">false</span>, <span class="comment">// 不提升函数声明</span></span><br><span class="line">                        <span class="attr">hoist_props</span>: <span class="literal">false</span>, <span class="comment">// 不提升对象属性</span></span><br><span class="line">                        <span class="attr">hoist_vars</span>: <span class="literal">false</span>, <span class="comment">// 变量提升关闭 (var 声明会被提升至函数作用域的顶部)</span></span><br><span class="line">                        <span class="attr">inline</span>: <span class="literal">false</span>, <span class="comment">// 不内联函数</span></span><br><span class="line">                        <span class="attr">loops</span>: <span class="literal">false</span>, <span class="comment">// 不优化循环</span></span><br><span class="line">                        <span class="attr">negate_iife</span>: <span class="literal">false</span>, <span class="comment">// 不否定立即执行的函数表达式</span></span><br><span class="line">                        <span class="attr">properties</span>: <span class="literal">false</span>, <span class="comment">// 不优化属性访问</span></span><br><span class="line">                        <span class="attr">reduce_funcs</span>: <span class="literal">false</span>, <span class="comment">// 不内联仅用一次的函数</span></span><br><span class="line">                        <span class="attr">reduce_vars</span>: <span class="literal">false</span>, <span class="comment">// 不减少非常量变量的引用</span></span><br><span class="line">                        <span class="attr">switches</span>: <span class="literal">false</span>, <span class="comment">// 不移除switch的分支</span></span><br><span class="line">                        <span class="attr">toplevel</span>: <span class="literal">false</span>, <span class="comment">// 不删除顶级函数和变量定义</span></span><br><span class="line">                        <span class="attr">typeofs</span>: <span class="literal">false</span>, <span class="comment">// 不进行typeofs优化</span></span><br><span class="line">                        </span><br><span class="line">                        <span class="comment">// 以下选项开启了一些常见的压缩优化策略</span></span><br><span class="line">                        <span class="attr">booleans</span>: <span class="literal">true</span>, <span class="comment">// 优化布尔表达式</span></span><br><span class="line">                        <span class="attr">if_return</span>: <span class="literal">true</span>, <span class="comment">// 优化if-return和if-continue</span></span><br><span class="line">                        <span class="attr">sequences</span>: <span class="literal">true</span>, <span class="comment">// 使用逗号运算符合并多个语句到一个表达式</span></span><br><span class="line">                        <span class="attr">unused</span>: <span class="literal">true</span>, <span class="comment">// 删除未使用的变量/function</span></span><br><span class="line">                        <span class="attr">conditionals</span>: <span class="literal">true</span>, <span class="comment">// 优化if-s和条件表达式</span></span><br><span class="line">                        <span class="attr">dead_code</span>: <span class="literal">true</span>, <span class="comment">// 移除不可到达的代码</span></span><br><span class="line">                        <span class="attr">evaluate</span>: <span class="literal">true</span>, <span class="comment">// 计算常量表达式</span></span><br><span class="line">                        <span class="attr">warnings</span>: <span class="literal">false</span>, <span class="comment">// 关闭Terser的警告信息，使构建输出更干净</span></span><br><span class="line">                        <span class="attr">drop_console</span>: <span class="literal">true</span>, <span class="comment">// 删除所有的console语句，可以减少最终输出的文件大小，对于生产环境是推荐的</span></span><br><span class="line">                        <span class="attr">pure_funcs</span>: [<span class="string">&#x27;console.log&#x27;</span>], <span class="comment">// 移除代码中的console.log调用</span></span><br><span class="line">                        <span class="comment">// 与drop_console相似，但是提供了更细致的控制，可以指定只删除某些特定的console方法</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">parallel</span>: <span class="literal">true</span>, <span class="comment">// 并行压缩以提升构建速度</span></span><br><span class="line">                <span class="attr">extractComments</span>: <span class="literal">false</span>, <span class="comment">// 不把注释提取到一个单独的文件中，即去掉所有注释</span></span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	... other code ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> TerserPlugin解析 </summary>
              <div class='content'>
              <ol><li><p><code>optimization</code>配置</p><ul><li><p><strong>minimize</strong></p><p> 设置为<code>true</code>，表示启用代码压缩</p><p>这是生产环境构建时常用的设置，旨在减小最终生成文件的大小，以提高加载速度和执行效率</p></li><li><p><strong>minimizer</strong></p><p>这是一个数组，允许为压缩过程指定一个或多个压缩插件</p><p>在此配置中，使用了<code>TerserPlugin</code>作为压缩工具</p></li></ul></li><li><p><code>TerserPlugin</code>配置</p><ul><li><p><strong>parallel</strong></p><p>设置为<code>true</code>，启用并行压缩</p><p>这意味着将同时使用多个子进程来进行代码压缩，可以显著加快构建速度</p></li><li><p><strong>extractComments</strong></p><p>设置为<code>false</code>，表示不将注释抽取到单独的文件中，即去除代码中的所有注释</p><p>这有助于进一步减小文件体积</p></li></ul></li><li><p><code>terserOptions</code>配置</p><ul><li><p><code>mangle</code>配置</p><ul><li><p><strong>safari10</strong></p><p>设置为<code>true</code>可避免在Safari 10/11上发生的一个已知问题，即在这些早期版本的Safari浏览器中，错误地删除<code>let</code>和<code>const</code>声明可能会导致脚本错误</p></li></ul></li><li><p><code>compress</code>配置</p><ul><li><p><strong>arrows、collapse_vars、comparisons、computed_props、hoist_funs、hoist_props、hoist_vars、inline、loops、negate_iife、properties、reduce_funcs、reduce_vars、switches、toplevel、typeofs</strong></p><p>这些选项被设置为<code>false</code>，意味着在压缩过程中不应用这些特定的代码转换</p><p>这些设置保证了代码转换的精细控制，避免可能导致代码运行出现问题的激进优化策略</p></li><li><p><strong>booleans、if_return、sequences、unused、conditionals、dead_code、evaluate</strong></p><p>这些选项被设置为<code>true</code>，允许Terser应用这些常见的压缩优化策略，如优化布尔表达式、if-返回模式、无用代码的剔除等，以达到减少代码体积和提高执行效率的目的</p></li><li><p><strong>warnings</strong></p><p>设置为<code>false</code>以在压缩过程中不显示警告信息，使构建输出更干净</p></li><li><p><strong>drop_console</strong></p><p>设置为<code>true</code>以删除所有的console语句</p><p>这有助于在生产环境中减少文件大小，提升运行性能</p></li><li><p><strong>pure_funcs</strong></p><p>设置为<code>[&#39;console.log&#39;]</code>，指示Terser删除所有<code>console.log</code>调用</p><p>这是一种比<code>drop_console</code>更细粒度的控制方式，允许保留如<code>console.error</code>或<code>console.warn</code>等可能对调试有用的console调用</p></li></ul></li></ul></li></ol>
              </div>
            </details>
<details class="folding-tag" purple><summary> terser-webpack-plugin是干什么的 </summary>
              <div class='content'>
              <p><code>terser-webpack-plugin</code>是一个用于Webpack的插件</p><p>它的主要作用是在Webpack构建过程中压缩和优化JavaScript代码</p><p>这个插件使用Terser作为其压缩引擎，Terser是一个专为ES6+代码设计的JavaScript解析器和压缩器</p><p>通过去除代码中的所有不必要的字符（例如空格和注释）以及执行代码转换优化（如缩短变量名和删除未使用的代码），它能够减小JavaScript文件的大小，从而加快页面加载速度和提高应用程序的性能</p><p><code>terser-webpack-plugin</code>插件的主要特性包括：</p><ol><li><p><strong>删除未使用的代码</strong>（Dead code elimination）</p><p>删除那些已经写在代码中但实际上从未被执行或使用的部分</p></li><li><p><strong>压缩代码</strong></p><p>通过各种转换（如变量名缩短和优化逻辑表达式）来减少代码体积</p></li><li><p><strong>删除调试语句</strong></p><p>例如，可以配置插件来删除所有<code>console.log</code>语句</p></li><li><p><strong>支持ES6+语法</strong></p><p>能够压缩和优化ES6+语法的代码</p></li><li><p><strong>多线程压缩</strong></p><p>支持并行压缩，可以利用多核CPU加速代码的压缩过程</p></li><li><p><strong>自定义压缩选项</strong></p><p>用户可以通过自定义<code>terserOptions</code>来控制具体的压缩行为</p></li><li><p><strong>条件性注释的提取</strong></p><p>可以配置插件提取和保留特定的注释（例如版权声明）</p></li></ol><p>在使用<code>Webpack</code>进行现代<code>JavaScript</code>应用程序的构建过程中，压缩和优化代码是一个重要步骤</p><p><code>terser-webpack-plugin</code>提供了一个高效且灵活的方式来实现这一步骤，它可以帮助开发者缩短构建时间和减小最终生成文件的大小，改善用户体验</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-4-压缩Css代码"><a href="#4-4-压缩Css代码" class="headerlink" title="4.4-压缩Css代码"></a>4.4-压缩Css代码</h3><p>运行以下代码安装对应的<code>npm</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install css-minimizer-webpack-plugin mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Css提取分离</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否开发环境</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">IsDev</span> = process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 匹配.css文件的规则配置</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="comment">// 根据开发环境选择使用style-loader或将CSS提取到单独的文件中</span></span><br><span class="line">                    <span class="title class_">IsDev</span> ? <span class="string">&quot;style-loader&quot;</span> : <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">                    <span class="comment">// 对CSS文件进行处理，支持模块化、压缩等操作</span></span><br><span class="line">                    <span class="string">&quot;css-loader&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 匹配.less文件的规则配置</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="comment">// 同上，根据开发环境选择合适的CSS加载器</span></span><br><span class="line">                    <span class="title class_">IsDev</span> ? <span class="string">&quot;style-loader&quot;</span> : <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">                    <span class="comment">// 处理CSS文件，支持模块化、压缩等</span></span><br><span class="line">                    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">                    <span class="comment">// 将LESS编译为CSS</span></span><br><span class="line">                    <span class="string">&quot;less-loader&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">filename</span>:<span class="string">&#x27;[name]_[chunkhash:8].css&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.prod.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 压缩Css代码</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CssMinimizerWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;css-minimizer-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">minimize</span>: <span class="literal">true</span>, <span class="comment">// 开启代码压缩</span></span><br><span class="line">        <span class="attr">minimizer</span>: [</span><br><span class="line">            <span class="comment">// 使用css-minimizer-webpack-plugin插件实例进行CSS优化</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">CssMinimizerWebpackPlugin</span>(&#123;</span><br><span class="line">                <span class="comment">// 启用并行处理，提高构建性能，特别是在有大量CSS文件需要被压缩的情况下</span></span><br><span class="line">                <span class="attr">parallel</span>: <span class="literal">true</span>,</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// minimizerOptions用于传递选项到cssnano，它是css-minimizer-webpack-plugin背后的CSS压缩工具</span></span><br><span class="line">                <span class="attr">minimizerOptions</span>: &#123;</span><br><span class="line">                    <span class="comment">// &#x27;default&#x27;预设意味着使用cssnano的默认压缩选项，</span></span><br><span class="line">                    <span class="comment">// 这是一个适用于大多数场景的平衡配置，它既压缩了代码，也考虑了性能和兼容性</span></span><br><span class="line">                    <span class="attr">preset</span>: <span class="string">&#x27;default&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;),</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	... other code ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> css-minimizer-webpack-plugin是干什么的 </summary>
              <div class='content'>
              <p><code>mini-css-extract-plugin</code>是一个用于将CSS从JavaScript文件中提取到独立的CSS文件中的插件</p><p>这对于那些想要将CSS代码分离出来，以便单独缓存和加载的项目非常实用</p><p>它的主要特点包括：</p><ul><li><p><strong>分离CSS</strong></p><p>允许你将CSS从JavaScript中提取成单独的文件</p><p>这意味着CSS可以独立于JavaScript被浏览器加载和缓存，也就是说可以无需执行JavaScript就预先加载CSS</p></li><li><p><strong>异步加载</strong></p><p>支持加载非关键CSS，并异步加载次要的CSS文件，从而提升页面的渲染速度</p></li><li><p><strong>缓存优化</strong></p><p>由于CSS文件是独立的，这有助于客户端更高效地缓存它们，只有在文件发生变动时才需要重新下载</p></li></ul>
              </div>
            </details>
<details class="folding-tag" purple><summary> mini-css-extract-plugin是干什么的 </summary>
              <div class='content'>
              <p><code>css-minimizer-webpack-plugin</code> 是一个用于压缩和优化CSS资源的插件</p><p>它利用了各种CSS压缩器，如cssnano，以最小化CSS文件的大小</p><p>这对于生产环境特别有用，因为它可以减少CSS资源的加载时间，从而提高网页加载速度并提升用户体验</p><p>它的主要特点包括：</p><ul><li><p><strong>压缩CSS文件</strong></p><p>它可以减少CSS文件的大小，通过移除空格、注释、不必要的后缀等</p></li><li><p><strong>支持Source Maps</strong></p><p>它可以生成Source Maps，帮助开发人员在开发工具中跟踪CSS源代码</p></li><li><p><strong>使用PostCSS</strong></p><p>它通常使用PostCSS生态中的工具进行CSS处理</p></li></ul>
              </div>
            </details>
<p><br /></p>
<h3 id="4-5-自动引入Element-Plus组件"><a href="#4-5-自动引入Element-Plus组件" class="headerlink" title="4.5-自动引入Element Plus组件"></a>4.5-自动引入Element Plus组件</h3><p>项目使用的<code>UI</code>框架以<code>Element Plus</code>为例子，需要运行以下命令安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus @element-plus/icons-vue --save</span><br></pre></td></tr></table></figure>
<p>并且安装对应的自动导入的<code>webpack</code>插件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-import unplugin-icons</span><br></pre></td></tr></table></figure>
<p>这3个npm包截止目前2024年5月20日为止，最新的版本都是有问题的，运行的时候webpack会报错，类似</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TypeError: IconsResolver is not a function</span><br><span class="line">TypeError: Components is not a function</span><br><span class="line">TypeError: AutoImport is not a function</span><br></pre></td></tr></table></figure>
<p>所以为了解决这个问题，回退一下版本就可以了</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;unplugin-auto-import&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.16.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;unplugin-icons&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.14.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;unplugin-vue-components&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.25.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>最后修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Element Plus</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">AutoImport</span> = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-auto-import/webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Components</span> = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-vue-components/webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-vue-components/resolvers&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">IconsResolver</span> = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-icons/resolver&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Icons</span> = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-icons/webpack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 配置自动导入组件的功能</span></span><br><span class="line"><span class="comment">         * 使用ElementPlusResolver以便自动解析并导入Element Plus组件库中的组件。</span></span><br><span class="line"><span class="comment">         * 这样做旨在避免手动导入组件，从而提高开发效率。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">            <span class="attr">resolvers</span>: [</span><br><span class="line">                <span class="title class_">ElementPlusResolver</span>()</span><br><span class="line">            ]</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 注册组件的配置</span></span><br><span class="line"><span class="comment">         * 通过使用ElementPlusResolver，自动注册Element Plus组件库中的所有组件。</span></span><br><span class="line"><span class="comment">         * 使得这些组件在应用中可以直接使用，简化了组件注册流程。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="title class_">Components</span>(&#123;</span><br><span class="line">            <span class="attr">resolvers</span>: [</span><br><span class="line">                <span class="title class_">ElementPlusResolver</span>(),</span><br><span class="line">                <span class="title class_">IconsResolver</span>(&#123;</span><br><span class="line">                    <span class="comment">// 修改Icon组件前缀，不设置则默认为i,禁用则设置为false</span></span><br><span class="line">                    <span class="attr">prefix</span>: <span class="string">&#x27;icon&#x27;</span>,</span><br><span class="line">                    <span class="comment">// 仅启用名为&#x27;ep&#x27;的图标集合</span></span><br><span class="line">                    <span class="attr">enabledCollections</span>: [<span class="string">&#x27;ep&#x27;</span>],</span><br><span class="line">                &#125;)</span><br><span class="line">            ]</span><br><span class="line">        &#125;),</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 配置图标插件，自动安装所需的图标库</span></span><br><span class="line">        <span class="title class_">Icons</span>(&#123;</span><br><span class="line">            <span class="attr">autoInstall</span>: <span class="literal">true</span> <span class="comment">// 自动安装图标库</span></span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-6-运行进度展示"><a href="#4-6-运行进度展示" class="headerlink" title="4.6-运行进度展示"></a>4.6-运行进度展示</h3><p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;webpack&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> webpack.<span class="title class_">ProgressPlugin</span>(), <span class="comment">// 运行进度</span></span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样子可以帮助我们清晰的知道<code>webpack</code>的打包进度</p>
<p><img src="https://s2.loli.net/2024/05/20/T7Sys8C1RcgU62W.png" alt="image-20240520173808174"></p>
<p><br /></p>
<h3 id="4-7-Css的Tree-Shaking"><a href="#4-7-Css的Tree-Shaking" class="headerlink" title="4.7-Css的Tree-Shaking"></a>4.7-Css的Tree-Shaking</h3><p>运行下面的命令安装<code>npm</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install purgecss-webpack-plugin glob -D</span><br></pre></td></tr></table></figure>
<p><code>purgecss-webpack-plugin</code>和<code>glob</code>是两个Node.js的包</p>
<p>它们通常在使用Webpack进行前端项目构建时用于优化CSS</p>
<p>修改<code>webpack.prod.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Css Tree-Shaking优化</span></span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">&#x27;glob&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">PurgeCSSPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;purgecss-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">PurgeCSSPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// paths是一个配置项，该项接受一个文件路径数组。</span></span><br><span class="line">            <span class="comment">// 这些路径指向你的项目中的HTML文件或者模板，以及可能包含CSS类的JavaScript组件文件。</span></span><br><span class="line">            <span class="attr">paths</span>: glob.<span class="title function_">sync</span>([</span><br><span class="line">                    <span class="comment">// path.join(__dirname, &#x27;./public/index.html&#x27;)生成了指向项目中的index.html文件的绝对路径。</span></span><br><span class="line">                    <span class="comment">// __dirname是Node.js中的一个全局变量，它返回当前正在执行的脚本所在的目录。</span></span><br><span class="line">                    path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;../index.html&#x27;</span>),</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// path.join(__dirname, &#x27;./src/**/*&#x27;)生成了一个glob模式，这个模式匹配src目录及其所有子目录下的所有文件。</span></span><br><span class="line">                    <span class="comment">// &#x27;./src/**/*&#x27; 是一个使用glob语法的模式字符串，表示src目录下的任意深度的所有文件。</span></span><br><span class="line">                    <span class="comment">// ** 是一个glob星号，匹配任意数量的目录和子目录。</span></span><br><span class="line">                    <span class="comment">// * 是一个glob星号，匹配任意数量的字符，除了路径分隔符（如/）。</span></span><br><span class="line">                    path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;../src/**/*&#x27;</span>),</span><br><span class="line">                ],</span><br><span class="line">                <span class="comment">// nodir选项设置为true，意味着返回的匹配结果中不包含目录路径，只有文件路径。</span></span><br><span class="line">                <span class="comment">// 这确保PurgeCSSPlugin只会接收到文件路径，而不是目录路径，因为插件需要文件内容来确定哪些CSS类是被使用的。</span></span><br><span class="line">                &#123;<span class="attr">nodir</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> purgecss-webpack-plugin是干什么的 </summary>
              <div class='content'>
              <p><code>purgecss-webpack-plugin</code>是Webpack的一个插件，用于从你的最终CSS文件中删除未使用的样式，从而减小CSS文件的大小，加快加载速度</p><p>在构建过程中，特别是在生产环境中，移除那些在HTML文件或者JSX/模板组件中没有用到的CSS规则可以显著减少文件大小，从而提高性能</p><p>使用<code>purgecss-webpack-plugin</code>通常涉及在webpack配置中引入并配置该插件，指定它应该检查的文件路径（例如HTML模板、JS/JSX文件等），以便于分析哪些CSS类被实际使用了。</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> glob是干什么的 </summary>
              <div class='content'>
              <p><code>glob</code>是一个小而强大的Node.js库，提供了一种根据所提供的模式匹配对文件进行搜索的方式，模式匹配通常被称作 “globbing”</p><p><code>glob</code>的功能不仅限于Node.js脚本中使用，它也经常与其他工具和插件一起用于前端项目中，比如与<code>purgecss-webpack-plugin</code>一起使用来指定需要分析的文件集合</p><p>在与<code>purgecss-webpack-plugin</code>一起使用时，<code>glob</code>可以帮助定义要清除未使用CSS的文件路径的模式（比如：”src/<em>*/</em>.html”表示项目src目录下的所有HTML文件），这使得<code>purgecss-webpack-plugin</code>能够有效地识别和移除所有未使用的CSS样式</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-8-删除上一次打包残留的dist文件"><a href="#4-8-删除上一次打包残留的dist文件" class="headerlink" title="4.8-删除上一次打包残留的dist文件"></a>4.8-删除上一次打包残留的dist文件</h3><p>运行下面的命令安装<code>npm</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install clean-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.prod.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 清除上次打包的残留</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 插件配置数组</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// cleanStaleWebpackAssets: 当值为true时，插件将会在构建完成后，</span></span><br><span class="line">            <span class="comment">// 清理Webpack在上一次构建时生成，但这一次构建未再次生成的文件资产（assets）。</span></span><br><span class="line">            <span class="comment">// 这是一个用于控制是否应该清理在重新构建时不再使用的旧文件的布尔值。</span></span><br><span class="line">            <span class="comment">// 默认情况下，这个值是true——每次只有新产生的文件会被保留，</span></span><br><span class="line">            <span class="comment">// 所有的旧文件会在下一次构建完成之后被删除。</span></span><br><span class="line">            <span class="attr">cleanStaleWebpackAssets</span>: <span class="literal">true</span>,</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// cleanOnceBeforeBuildPatterns: 这个选项允许你定义一个模式数组（patterns array），</span></span><br><span class="line">            <span class="comment">// 插件会在Webpack构建前根据这些模式清理文件和目录。</span></span><br><span class="line">            <span class="comment">// 不同的模式可以匹配不同的文件或目录，以供清理。</span></span><br><span class="line">            <span class="comment">// 在此例中，它使用glob模式，以确保Webpack在构建之前清理指定目录。</span></span><br><span class="line">            <span class="comment">// path.resolve(__dirname, &quot;../dist&quot;) 用于生成“dist”目录的绝对路径。</span></span><br><span class="line">            <span class="comment">// 通常 &quot;__dirname&quot; 是Node.js中的一个全局变量，</span></span><br><span class="line">            <span class="comment">// 它返回代表当前执行脚本所在的目录的路径。</span></span><br><span class="line">            <span class="comment">// 通过 &quot;..&quot; 返回到上一级目录，再与 &quot;dist&quot; 连接起来形成清理路径，</span></span><br><span class="line">            <span class="comment">// 确保不管在哪个工作目录下执行Webpack，指定的“dist”文件夹路径都是正确的。</span></span><br><span class="line">            <span class="attr">cleanOnceBeforeBuildPatterns</span>: [ path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>) ]</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">	... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> clean-webpack-plugin可以干什么 </summary>
              <div class='content'>
              <p><code>CleanWebpackPlugin</code>是一个在每次构建前自动清理/删除Webpack的<code>output.path</code>目录中的所有文件的插件</p><p>这个插件确保你的输出目录只包含用当前配置和源代码生成的文件，从而避免了构建残留文件的积累</p><p>使用<code>CleanWebpackPlugin</code>的主要好处包括：</p><ol><li><p><strong>保持输出目录的清洁</strong></p><p>在新的构建过程中自动删除过时的文件，保证你的发布目录始终只包含最新的输出资源</p></li><li><p><strong>减少手动干预</strong></p><p>自动处理文件删除，减少了需要手动清理输出目录的情况，特别是在频繁构建的开发过程中</p></li><li><p><strong>避免潜在的构建错误</strong></p><p>有时候，旧的文件和新生成的文件冲突会引发意外的问题</p><p>通过清除旧文件，可以减少这种问题的发生</p></li><li><p><strong>简化部署过程</strong></p><p>确保你部署的只是新生成的文件，而不是一堆已经过时的资源</p></li></ol>
              </div>
            </details>
<p><br /></p>
<h3 id="4-9-图片资源处理"><a href="#4-9-图片资源处理" class="headerlink" title="4.9-图片资源处理"></a>4.9-图片资源处理</h3><p>webpack5不需要安装额外的loader来处理，直接写就可以</p>
<p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 处理图像文件的规则配置</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp|avif)(\?.*)?$/</span>, <span class="comment">// 匹配多种图像文件格式</span></span><br><span class="line">                <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>, <span class="comment">// 将图像文件作为资产处理</span></span><br><span class="line">                <span class="attr">parser</span>: &#123;</span><br><span class="line">                    <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                        <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// 图片大小小于10KB将会被转成base64</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">generator</span>: &#123;</span><br><span class="line">                    <span class="attr">filename</span>: <span class="string">&quot;static/images/[hash:8][ext]&quot;</span>, <span class="comment">// 输出文件的命名规则，在images目录下，使用8位哈希值加原始扩展名</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-10-压缩图片"><a href="#4-10-压缩图片" class="headerlink" title="4.10-压缩图片"></a>4.10-压缩图片</h3><p>运行命令安装<code>npm</code>包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install image-minimizer-webpack-plugin imagemin imagemin-gifsicle imagemin-jpegtran imagemin-optipng imagemin-svgo --save-dev</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.prod.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 处理图像文件的规则配置</span></span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp|avif)(\?.*)?$/</span>, <span class="comment">// 匹配多种图像文件格式</span></span><br><span class="line">                <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>, <span class="comment">// 将图像文件作为资产处理</span></span><br><span class="line">                <span class="attr">parser</span>: &#123;</span><br><span class="line">                    <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                        <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// 图片大小小于10KB将会被转成base64</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">generator</span>: &#123;</span><br><span class="line">                    <span class="attr">filename</span>: <span class="string">&quot;images/[hash:8][ext]&quot;</span>, <span class="comment">// 输出文件的命名规则，在images目录下，使用8位哈希值加原始扩展名</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>图片压缩是一个计算密集型的过程，尤其是当你有大量图片需要处理时</p>
<p>这可能是导致你的打包过程变慢的原因</p>
<p>有一些方法可以尝试优化这一过程：</p>
<ol>
<li><p><strong>仅在生产构建中启用图片压缩</strong></p>
<p>你可以通过设置只在生产模式下启用这个插件来减少开发时的构建延迟</p>
</li>
<li><p><strong>并行处理</strong></p>
<p>如果可能的话，试着并行化图片的处理过程</p>
<p><code>ImageMinimizerPlugin</code>有一个<code>parallel</code>选项，可以显著加快处理速度，特别是在多核CPU上</p>
</li>
<li><p><strong>限制压缩的图片数量</strong></p>
<p>如果你的项目中有些图片不需要优化，可以配置规则来排除这些文件，从而减少处理时间</p>
</li>
<li><p><strong>预先压缩</strong></p>
<p>对于一些不经常变化的图片，可以考虑在添加到项目之前就手动压缩它们，避免在每次构建过程中重复压缩</p>
</li>
</ol>
<details class="folding-tag" purple><summary> image-minimizer-webpack-plugin是干什么的 </summary>
              <div class='content'>
              <p>这是一个Webpack插件，它允许你通过多种<code>imagemin</code>插件来优化构建过程中的图片</p><p>它的主要角色是作为图片压缩任务的协调者，调用不同的<code>imagemin</code>插件来处理不同格式的图片</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> imagemin是干什么的 </summary>
              <div class='content'>
              <p>这是一个用于优化图片的模块</p><p>它本身不对图片进行优化，而是依赖于一系列插件来处理特定格式的图片</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> imagemin-gifsicle是干什么的 </summary>
              <div class='content'>
              <p>用于优化GIF格式图片</p><p>它可以减少GIF文件的大小，而不会影响到动画效果或质量</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> imagemin-jpegtran是干什么的 </summary>
              <div class='content'>
              <p>用于优化JPEG/JPG格式图片</p><p>它主要进行无损压缩，意味着图片质量不会降低</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> imagemin-optipng是干什么的 </summary>
              <div class='content'>
              <p>用于优化PNG格式图片</p><p>它可以进行无损压缩，也可以通过调整优化级别来达到更高的压缩率，但可能会影响图片质量</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> imagemin-svgo是干什么的 </summary>
              <div class='content'>
              <p>针对SVG格式图片的优化工具</p><p>SVGO可以去除SVG文件中的不必要的信息，比如编辑器元数据、注释、隐藏的元素等，从而减小文件大小</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-11-公共代码提取"><a href="#4-11-公共代码提取" class="headerlink" title="4.11-公共代码提取"></a>4.11-公共代码提取</h3><p>一些概念了解：</p>
<ul>
<li><p><strong>module</strong></p>
<p>简单来说就是你通过import语句引入的代码，一个js文件就是一个module</p>
</li>
<li><p><strong>chunk</strong></p>
<p> chunk是webpack根据功能拆分出来的，包含三种情况：</p>
<ul>
<li>你的项目入口（entry）</li>
<li>通过import()动态引入的代码</li>
<li>通过splitChunks拆分出来的代码（公共代码）<br>chunk包含着module，可能是一对多也可能是一对一。</li>
</ul>
</li>
<li><p><strong>bundle</strong></p>
<p>bundle是webpack打包之后的各个文件，一般就是和chunk是一对一的关系</p>
<p>bundle就是对chunk进行编译压缩打包等处理之后的产出</p>
<ul>
<li>通过splitChunks拆分出来的chunk不能算作bundle</li>
<li>bundle只指入口entry和import()动态导入生成的chunk （这样的bundle和chunk才是一对一的关系）<ul>
<li>一个entry对应一个chunk</li>
<li>一个import()动态导入对应一个chunk</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>修改<code>webpack.prod.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="comment">// splitChunks 用于控制如何拆分代码块</span></span><br><span class="line">        <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&quot;all&quot;</span>, <span class="comment">// 对所有类型的chunks进行拆分（包括动态和非动态模块）</span></span><br><span class="line">            <span class="attr">minSize</span>: <span class="number">20000</span>, <span class="comment">// 新chunk的最小体积为20KB</span></span><br><span class="line">            <span class="attr">maxAsyncRequests</span>: <span class="number">6</span>, <span class="comment">// 每个异步加载的模块最多能被拆分成6个chunks</span></span><br><span class="line">            <span class="attr">maxInitialRequests</span>: <span class="number">6</span>, <span class="comment">// 入口点的最大并行请求数量</span></span><br><span class="line">            <span class="attr">enforceSizeThreshold</span>: <span class="number">50000</span>, <span class="comment">// 忽视其他限制，强制拆分体积为50KB的chunks</span></span><br><span class="line">            <span class="comment">// cacheGroups 用于定义如何共享模块/合并chunks</span></span><br><span class="line">            <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">                <span class="attr">libs</span>: &#123; <span class="comment">// 针对从node_modules中导入的模块</span></span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&quot;chunk-libs&quot;</span>,</span><br><span class="line">                    <span class="attr">test</span>: <span class="regexp">/[\\/]node_modules[\\/]/</span>, <span class="comment">// 指定是node_modules下的模块</span></span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">10</span>, <span class="comment">// 优先级</span></span><br><span class="line">                    <span class="attr">chunks</span>: <span class="string">&quot;initial&quot;</span> <span class="comment">// 仅对入口块进行处理</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">echarts</span>: &#123; <span class="comment">// 针对ECharts的单独拆分</span></span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&quot;chunk-echarts&quot;</span>,</span><br><span class="line">                    <span class="attr">test</span>: <span class="regexp">/[\\/]node_modules[\\/]echarts[\\/]/</span>,</span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">20</span> <span class="comment">// 优先级高于libs</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">elementPlus</span>: &#123; <span class="comment">// Element Plus 单独拆包</span></span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&quot;chunk-elementPlus&quot;</span>,</span><br><span class="line">                    <span class="attr">test</span>: <span class="regexp">/[\\/]node_modules[\\/]element-plus[\\/]/</span>, <span class="comment">// 更新匹配 Element Plus 的路径</span></span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">20</span> <span class="comment">// 权重要大于 libs</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">src</span>: &#123; <span class="comment">// 对src目录下的文件进行拆分</span></span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&quot;chunk-src&quot;</span>,</span><br><span class="line">                    <span class="attr">test</span>: <span class="regexp">/[\\/]src[\\/]/</span>,</span><br><span class="line">                    <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">10</span> <span class="comment">// 优先级等于libs，但因为特定配置可能在实际中优先级表现不同</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">commons</span>: &#123; <span class="comment">// 针对公共模块的拆分</span></span><br><span class="line">                    <span class="attr">name</span>: <span class="string">`chunk-commons`</span>,</span><br><span class="line">                    <span class="attr">minChunks</span>: <span class="number">2</span>, <span class="comment">// 最小引用次数</span></span><br><span class="line">                    <span class="attr">priority</span>: <span class="number">0</span>, <span class="comment">// 低优先级</span></span><br><span class="line">                    <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span> <span class="comment">// 如果一个模块已经被打包过，则复用它而不是再次打包</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> splitChunks是干什么的 </summary>
              <div class='content'>
              <p><code>splitChunks</code> 是一个 Webpack 的配置选项，用于优化输出包的大小和加载性能</p><p>它的主要目的是从你的代码中自动提取和分割出通用的依赖模块、第三方库或者自定义的重复代码块到独立的文件(chunks)中</p><p>这样做的好处有很多：</p><ol><li><p><strong>减少重复</strong></p><p>通过将公共的代码分割成独立的chunks，多个入口或懒加载的模块可以共享相同的依赖，避免在每个bundle中重复打包相同的代码</p></li><li><p><strong>缓存优化</strong></p><p>分割出来的公共代码块通常变化较少，因此通过浏览器缓存可以减少加载时间</p></li><li><p><strong>并行加载</strong></p><p>将大的代码块拆分成更小的块可以并行加载，提高加载速度</p></li><li><p><strong>按需加载</strong></p><p>对于路由懒加载的场景，splitChunks可以帮助实现更细粒度的代码分割，按需加载资源，进一步减少首屏加载时间</p></li></ol><p>Webpack中的<code>splitChunks</code>配置提供了多种细粒度的控制选项，包括但不限于：</p><ul><li><p><code>chunks</code></p><p>指定哪些类型的块应该被拆分</p><p>可以是<code>initial</code>（只对入口文件处理）、<code>async</code>（只对异步加载的模块处理）和<code>all</code>（全部块）</p></li><li><p><code>minSize</code></p><p>生成块的最小大小。如果拆分后的块小于此值，则不会被拆分</p></li><li><p><code>maxAsyncRequests</code></p><p>按需加载时并行请求的最大数量</p></li><li><p><code>maxInitialRequests</code></p><p>入口点的最大并行请求数量</p></li><li><p><code>name</code></p><p>拆分块的名称。可以是固定的字符串或者函数返回值</p></li><li><p><code>cacheGroups</code></p><p>缓存组可以继承和/或覆盖splitChunks中的任何选项</p><p>通过cacheGroups，可以实现更细粒度的拆分策略，比如将React和Vue等框架代码拆分到独立的文件</p></li></ul>
              </div>
            </details>
<p><br /></p>
<h3 id="4-12-分割代码按需加载"><a href="#4-12-分割代码按需加载" class="headerlink" title="4.12-分割代码按需加载"></a>4.12-分割代码按需加载</h3><p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 配置输出选项</span></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="comment">// 指定输出的文件名，[chunkhash:8]表示使用8位的块哈希值作为文件名的一部分</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;[name].[chunkhash:8].js&#x27;</span>,</span><br><span class="line">        <span class="comment">// 指定输出文件的路径</span></span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../dist&#x27;</span>),</span><br><span class="line">        <span class="comment">// 启用异步块加载</span></span><br><span class="line">        <span class="attr">asyncChunks</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 设置资源的公共路径，对于在页面中引用的静态资源，都将以此路径为基础</span></span><br><span class="line">        <span class="attr">publicPath</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="comment">// 清除上一次打包构建出来的文件</span></span><br><span class="line">        <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 用于指定非入口(non-initial) chunk 文件的名称，这通常是用于懒加载模块时Webpack按需加载的块</span></span><br><span class="line">        <span class="attr">chunkFilename</span>: <span class="string">&#x27;[name].js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>chunkFilename</code> 用于指定非入口(non-initial) chunk 文件的名称，这通常是用于懒加载模块时Webpack按需加载的块</p>
<p>这意味着，这些异步加载的块将以它们各自的 chunk 名称命名，不包含哈希值</p>
<p>在实际应用中，它有助于区分主bundle文件和异步加载的chunk文件</p>
<p><br /></p>
<h3 id="4-13-查看编译速度"><a href="#4-13-查看编译速度" class="headerlink" title="4.13-查看编译速度"></a>4.13-查看编译速度</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install speed-measure-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>新建一个<code>webpack.analysis.js</code>文件</p>
<p>这个文件不会输出dist文件，只是进行<code>webpack</code>的分析</p>
<p>执行编译速度分析一般都是针对需要极致性能的生产环境，所以开发环境就不配置分析了</p>
<p>修改<code>webpack.analysis.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&quot;webpack-merge&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> prodConfig = <span class="built_in">require</span>(<span class="string">&quot;./webpack.prod.js&quot;</span>)</span><br><span class="line"><span class="comment">// 构建速度分析</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">SpeedMeasurePlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;speed-measure-webpack-plugin&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> smp = <span class="keyword">new</span> <span class="title class_">SpeedMeasurePlugin</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = smp.<span class="title function_">wrap</span>(</span><br><span class="line">    <span class="title function_">merge</span>(prodConfig, &#123;</span><br><span class="line">    </span><br><span class="line">	&#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> speed-measure-webpack-plugin可以干什么 </summary>
              <div class='content'>
              <p><code>speed-measure-webpack-plugin</code>（简称 SMP）是一个用于测量各个插件和加载器(<code>loaders</code>)在Webpack构建过程中的速度的webpack插件</p><p>它对于优化构建时间非常有用，因为它可以帮助你明确地看到构建过程中每一步的耗时，从而识别出哪些部分可能需要优化</p><ul><li><p><strong>性能监测</strong></p><p>它会显示Webpack构建过程中每个插件和loader的处理时间，帮助你理解构建时间被怎样花费的</p></li><li><p><strong>优化指导</strong></p><p>通过准确的性能数据，你可以优先对耗时最长的部分进行优化，以提高构建速度</p></li><li><p><strong>配置简单</strong></p><p>集成到现有的Webpack配置中非常简单，只需要几行代码即可启动和运行</p></li></ul>
              </div>
            </details>
<p><br /></p>
<h3 id="4-14-多进程"><a href="#4-14-多进程" class="headerlink" title="4.14-多进程"></a>4.14-多进程</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install thread-loader -D</span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> thread-loader可以干什么 </summary>
              <div class='content'>
              <p><code>thread-loader</code> 是一个Webpack的加载器，它可以将资源文件的加载和处理工作分配到一个独立的worker线程池中去执行</p><p>这样做可以显著提高构建速度，特别是在处理大量和耗时的任务时（如大型项目中的Babel转译），因为这允许你利用多核CPU的能力来并行处理任务</p><ul><li><p><strong>并行处理</strong></p><p>在多个worker线程中并行处理模块，使得资源文件的转译和加载更加快速</p></li><li><p><strong>提高构建效率</strong></p><p>通过减少主线程的负载，使得Webpack的构建过程更加高效</p></li><li><p><strong>可配置的</strong></p><p>你可以控制线程的数量，优化构建性能和资源的使用</p></li></ul>
              </div>
            </details>
<p>修改<code>webpack.common.js</code>文件</p>
<p>将<code>thread-loader</code>放在其他比较耗时的加载器之前</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                <span class="attr">use</span>: [</span><br><span class="line">                    <span class="string">&#x27;thread-loader&#x27;</span>, <span class="comment">// 在这里添加`thread-loader`</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">                        <span class="attr">options</span>: &#123;</span><br><span class="line">                            <span class="attr">presets</span>: [<span class="string">&#x27;@babel/preset-env&#x27;</span>]</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">                </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-15-精简终端输出"><a href="#4-15-精简终端输出" class="headerlink" title="4.15-精简终端输出"></a>4.15-精简终端输出</h3><p>如果觉得控制台的输出很多，很乱，你可以进行精简</p>
<p>修改<code>webpack.dev.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">stats</span>: <span class="string">&#x27;errors-only&#x27;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-16-字体资源处理"><a href="#4-16-字体资源处理" class="headerlink" title="4.16-字体资源处理"></a>4.16-字体资源处理</h3><p>修改<code>webpack.common.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ... other code ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义模块的规则配置</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>:<span class="regexp">/.(woff2?|eot|ttf|otf)$/</span>, <span class="comment">// 匹配字体图标文件</span></span><br><span class="line">                <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>, <span class="comment">// type选择asset</span></span><br><span class="line">                <span class="attr">parser</span>: &#123;</span><br><span class="line">                    <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                        <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// 小于10kb转base64位</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">generator</span>:&#123;</span><br><span class="line">                    <span class="attr">filename</span>:<span class="string">&#x27;static/fonts/[hash:8][ext]&#x27;</span>, <span class="comment">// 文件输出目录和命名</span></span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ... other code ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-18-打包生成gz"><a href="#4-18-打包生成gz" class="headerlink" title="4.18-打包生成gz"></a>4.18-打包生成gz</h3><p><br /></p>
<h3 id="4-19-打包分析"><a href="#4-19-打包分析" class="headerlink" title="4.19-打包分析"></a>4.19-打包分析</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure>
<p>修改<code>webpack.analysis.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入分析打包结果插件</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">BundleAnalyzerPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = smp.<span class="title function_">wrap</span>(<span class="title function_">merge</span>(prodConfig, &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">BundleAnalyzerPlugin</span>() <span class="comment">// 配置分析打包结果插件</span></span><br><span class="line">    ]</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-20-开启缓存"><a href="#4-20-开启缓存" class="headerlink" title="4.20-开启缓存"></a>4.20-开启缓存</h3><p>开启持久化缓存（Webpack5 新特性），缓存生成的 webpack 模块和 chunk，来改善构建速度</p>
<p>首次构建耗时增加 15% 左右，但是二次构建耗时减少 90% 左右</p>
<p>修改<code>webpack.dev.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    <span class="attr">cache</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;filesystem&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-21-编译过程美化"><a href="#4-21-编译过程美化" class="headerlink" title="4.21-编译过程美化"></a>4.21-编译过程美化</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @nuxt/friendly-errors-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
<p>这个插件可以帮助我们优化构建过程的<code>webpack</code>在终端的输出，可以直接体验</p>
<p>修改<code>webpack.dev.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 编译过程终端美化</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">FriendlyErrorsWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;@nuxt/friendly-errors-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">     <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">FriendlyErrorsWebpackPlugin</span>()</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-22-进度条美化"><a href="#4-22-进度条美化" class="headerlink" title="4.22-进度条美化"></a>4.22-进度条美化</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D webpackbar</span><br></pre></td></tr></table></figure>
<p>觉得webpack提供的默认进度条不是很好看，可以下载这个包</p>
<p>并替换掉<code>new webpack.ProgressPlugin()</code></p>
<p>修改<code>webpack.dev.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// 进度条插件：用于显示webpack构建的进度</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">WebpackBar</span>(&#123;</span><br><span class="line">            <span class="attr">color</span>: <span class="string">&quot;#85d&quot;</span>,  <span class="comment">// 默认green，进度条颜色支持HEX</span></span><br><span class="line">            <span class="attr">basic</span>: <span class="literal">false</span>,   <span class="comment">// 默认true，启用一个简单的日志报告器</span></span><br><span class="line">            <span class="attr">profile</span>:<span class="literal">false</span>,  <span class="comment">// 默认false，启用探查器。</span></span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><br /></p>
<h3 id="4-23-Eslint配置代码规范"><a href="#4-23-Eslint配置代码规范" class="headerlink" title="4.23-Eslint配置代码规范"></a>4.23-Eslint配置代码规范</h3><p>运行命令安装npm包</p>
<p>为什么安装8.57.0的版本呢？因为9的版本实在是太难用了，跟以前的配置完全不一样</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint@8.57.0 eslint-plugin-vue --save-dev</span><br></pre></td></tr></table></figure>
<p>ESLint 是一款非常流行的JavaScript和JSX代码检测工具</p>
<p>主要原因在于它可以帮助开发者保持代码质量并确保代码风格的一致性</p>
<p>以下是使用ESLint的一些主要理由：</p>
<ol>
<li><p><strong>提高代码质量</strong></p>
<p>ESLint可以检测代码中的错误，比如未使用的变量、循环中错误的逻辑判断、语法错误等，这些都是在代码审查中可能漏检的错误</p>
<p>通过自动检测，可以在代码提交前发现并修正它们，从而避免了潜在的运行时错误</p>
</li>
<li><p><strong>保持代码风格一致性</strong></p>
<p>在团队开发过程中，不同的开发者可能有不同的代码编写习惯，这可能会导致项目中出现不一致的代码风格</p>
<p>ESLint 通过强制执行一套预定的规则（如缩进、分号使用、变量命名规范等），帮助团队成员保持代码的一致性，使得代码更易于读写和维护</p>
</li>
<li><p><strong>促进团队协作</strong></p>
<p>当团队成员使用ESLint，并遵循相同的代码规范时，会减少代码审查时的摩擦和误解</p>
<p>这不仅可以提高开发效率，也能促进团队间的沟通和协作</p>
</li>
<li><p><strong>自定义和灵活性</strong></p>
<p>ESLint提供了大量的内建规则，并且允许开发者自定义规则，这意味着你可以根据自己或团队的需求调整规则</p>
<p>此外，你还可以使用社区提供的配置集合，如<code>airbnb</code>、<code>google</code>等，或者集成到现有的构建系统中</p>
</li>
<li><p><strong>减少审查时间和成本</strong></p>
<p>自动检测代码中的问题可以显著减少人工代码审查所需的时间和精力</p>
<p>开发者可以集中精力解决更复杂的问题，而非一些基础的编码规范问题</p>
</li>
<li><p><strong>促进学习和指导</strong></p>
<p>对于新手开发者来说，ESLint不仅可以指出代码中的错误，还可以提供错误修正的建议，这对于学习JavaScript语言和提升编码技能非常有帮助</p>
</li>
</ol>
<p>项目目录下新建<code>.eslintignore</code>文件，用于排除应用eslint规则的文件或目录</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 忽略 node_modules 目录</span></span><br><span class="line">node_modules/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略构建输出目录</span></span><br><span class="line">/dist/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略配置目录</span></span><br><span class="line">webpackConfig/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略特定文件</span></span><br><span class="line">.babelrc</span><br><span class="line">.browserslistrc</span><br><span class="line">.gitignore</span><br><span class="line">package.json</span><br><span class="line">package-lock.json</span><br><span class="line"><span class="comment">#src/someFileToIgnore.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略某个目录中的所有文件</span></span><br><span class="line">src/assets</span><br><span class="line"><span class="comment">#src/someDirectoryToIgnore/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略所有的配置文件</span></span><br><span class="line">**/*.config.js</span><br></pre></td></tr></table></figure>
<p>项目目录下新建<code>.eslintrc.js</code>，具体代码可以直接看源码，如果想要个性化规则可以去翻阅Eslint文档</p>
<p>如果想在终端里面测试所有项目的话，可以在<code>package.json</code>里面的<code>script</code>配置<code>&quot;eslint&quot;: &quot;eslint ./src&quot;</code></p>
<p>这样子就可以直接运行检查项目<code>src</code>目录下面的所有文件了</p>
<p>如果想要在运行webpack的时候发现，可以下载npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i eslint-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>因为是开发环境才会有eslint规范，所以直接修改<code>webpack.dev.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 终端检查代码</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;eslint-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(base, &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ESLintPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">//运行的时候自动帮你修复错误</span></span><br><span class="line">            <span class="attr">fix</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">exclude</span>: <span class="string">&#x27;node_modules&#x27;</span>,</span><br><span class="line">            <span class="attr">extensions</span>: [<span class="string">&#x27;js&#x27;</span>, <span class="string">&#x27;vue&#x27;</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<details class="folding-tag" purple><summary> eslint可以干什么 </summary>
              <div class='content'>
              <p>ESLint是一个插件化的JavaScript代码检查工具</p><p>它可以识别和报告模式中的问题，并且能被配置为在代码中自动修复某些简单的问题</p><p>其主要用途是提高代码质量和保持代码风格的一致性</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> eslint-plugin-vue可以干什么 </summary>
              <div class='content'>
              <p>ESLint的一个插件，提供了针对Vue.js模板的特定规则</p><p>这允许ESLint检查<code>.vue</code>文件中<code>&lt;template&gt;</code>部分的代码</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> eslint-webpack-plugin可以干什么 </summary>
              <div class='content'>
              <p><code>eslint-webpack-plugin</code> 是一个 Webpack 插件，用于在 Webpack 构建过程中运行 ESLint 检查</p><p>这意味着你可以在编译代码时自动进行代码质量检查，而不需要单独运行 ESLint 命令</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-24-配置husky"><a href="#4-24-配置husky" class="headerlink" title="4.24-配置husky"></a>4.24-配置husky</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i husky lint-staged -D</span><br></pre></td></tr></table></figure>
<p>修改<code>package.json</code>文件，在<code>script</code>下面添加</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;husky install&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pre-check&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx lint-staged&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src/**/*.&#123;js,vue&#125;&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;eslint --fix&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<p>生成<code>.husky</code>目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky install</span><br></pre></td></tr></table></figure>
<p>在该目录下新建文件<code>pre-commit</code>，并写入</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">. <span class="string">&quot;<span class="subst">$(dirname <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class="line"></span><br><span class="line">npm run pre-check</span><br></pre></td></tr></table></figure>
<p>这时候运行代码提交操作的时候就会使用eslint检测你的代码规范了</p>
<details class="folding-tag" purple><summary> husky可以干什么 </summary>
              <div class='content'>
              <p>用于在 Git 钩子（hooks）上运行脚本，常用于在提交代码前进行代码检查、测试等任务</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> lint-staged可以干什么 </summary>
              <div class='content'>
              <p>在 Git 暂存文件（staged files）上运行 linters，确保只有通过检查的代码才能被提交</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-25-commit信息规范化"><a href="#4-25-commit信息规范化" class="headerlink" title="4.25-commit信息规范化"></a>4.25-commit信息规范化</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @commitlint/config-conventional @commitlint/cli -D</span><br></pre></td></tr></table></figure>
<p>在项目目录下创建<code>commitlint.config.js</code>文件， 并写入代码，具体代码看源代码</p>
<p>在该目录下新建文件<code>commit-msg</code>，并写入</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">. <span class="string">&quot;<span class="subst">$(dirname <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class="line"></span><br><span class="line">npx --no-install commitlint --edit <span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>这时候运行代码提交操作的时候就会使用commitlint.config.js检测你提交的信息规范了</p>
<details class="folding-tag" purple><summary> @commitlint/cli可以干什么 </summary>
              <div class='content'>
              <p>命令行工具，用于检查提交消息是否符合指定的规则</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> @commitlint/config-conventional可以干什么 </summary>
              <div class='content'>
              <p>提供一组符合 “Conventional Commits” 规范的默认提交消息规则配置</p>
              </div>
            </details>
<p><br /></p>
<h3 id="4-26-commit提交辅助备注信息"><a href="#4-26-commit提交辅助备注信息" class="headerlink" title="4.26-commit提交辅助备注信息"></a>4.26-commit提交辅助备注信息</h3><p>运行命令安装npm包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D commitizen cz-conventional-changelog</span><br></pre></td></tr></table></figure>
<p>项目目录下新建<code>.czrc</code>文件，下入以下代码</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;path&quot;</span>:<span class="string">&quot;cz-conventional-changelog&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>修改<code>package.json</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>:&#123;</span><br><span class="line">    <span class="string">&quot;commit&quot;</span>: <span class="string">&quot;git-cz&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&quot;config&quot;</span>:&#123;</span><br><span class="line">    <span class="string">&quot;commitizen&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;path&quot;</span>:<span class="string">&quot;node_modules/cz-conventional-changelog&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这时候可以在<code>git add .</code>命令之后使用<code>npm run commit</code>就可以帮助我们规范commit的提交</p>
<p>如果你还想要自定义commit的规范，那么我们可以这么操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D commitlint-config-cz cz-customizable</span><br></pre></td></tr></table></figure>
<p>在根目录下面新建<code>.cz-config.js</code>，写入代码看源代码</p>
<p>这时候我们就可以发现我们<code>.cz-config.js</code>里面配置的都会在命令行里</p>
<details class="folding-tag" purple><summary> commitizen可以干什么 </summary>
              <div class='content'>
              <p>用于帮助开发者编写符合规范的提交消息</p><p>它提供了一个交互式的命令行界面，引导用户填写提交信息，从而确保提交消息符合预定的格式和规则</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> cz-conventional-changelog可以干什么 </summary>
              <div class='content'>
              <p><strong>commitizen</strong> 的一个适配器，使用 “Conventional Commits” 规范来格式化提交消息</p><p>它定义了一组标准的提交类型（如 <code>feat</code>、<code>fix</code>、<code>chore</code> 等），帮助生成一致的提交历史记录</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> commitlint-config-cz可以干什么 </summary>
              <div class='content'>
              <p><strong>commitlint</strong> 的一个配置扩展，旨在与 <strong>commitizen</strong> 和 <strong>cz-conventional-changelog</strong> 兼容</p><p>它提供了一组预定义的提交消息规则，确保提交消息符合 “Conventional Commits” 规范</p>
              </div>
            </details>
<details class="folding-tag" purple><summary> cz-customizable可以干什么 </summary>
              <div class='content'>
              <p><strong>commitizen</strong> 的一个可定制适配器，允许用户根据自己的需求自定义提交消息的提示和格式</p><p>你可以配置提交类型、范围、详细描述等，从而适应不同的项目需求</p>
              </div>
            </details>
<p><br /></p>
<h2 id="五、推送远程"><a href="#五、推送远程" class="headerlink" title="五、推送远程"></a>五、推送远程</h2><h3 id="5-1-添加-gitignore-文件"><a href="#5-1-添加-gitignore-文件" class="headerlink" title="5.1-添加.gitignore 文件"></a>5.1-添加<code>.gitignore</code> 文件</h3><p><code>.gitignore</code> 文件用于指定 <code>Git</code> 版本控制要忽略的未跟踪文件和目录</p>
<p>在一个 <code>Vue.js</code> 项目中，有多种文件和目录通常应该被添加到 <code>.gitignore</code> 文件中，特别是当开发工具是 <code>WebStorm (ws)</code> 和 <code>Visual Studio Code (vs)</code> 时</p>
<p><code>.gitignore</code> 文件应该根据项目需求和团队约定进行自定义</p>
<p>正式使用时还需要根据实际情况来调整和增减规则</p>
<p>写入以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 依赖</span><br><span class="line">/node_modules</span><br><span class="line"></span><br><span class="line"># 打包输出</span><br><span class="line">/dist</span><br><span class="line"></span><br><span class="line"># 环境变量文件</span><br><span class="line">.env</span><br><span class="line">.env.local</span><br><span class="line">.env.*.local</span><br><span class="line"></span><br><span class="line"># 开发工具目录</span><br><span class="line">.idea</span><br><span class="line">.vscode</span><br><span class="line"></span><br><span class="line"># 日志文件</span><br><span class="line">*.log</span><br><span class="line"></span><br><span class="line"># 源映射</span><br><span class="line">*.map</span><br><span class="line"></span><br><span class="line"># MacOS系统文件</span><br><span class="line">.DS_Store</span><br><span class="line"></span><br><span class="line"># Windows系统文件</span><br><span class="line">Thumbs.db</span><br><span class="line">ehthumbs.db</span><br><span class="line">Desktop.ini</span><br></pre></td></tr></table></figure>
<h2 id="六、文档、源代码"><a href="#六、文档、源代码" class="headerlink" title="六、文档、源代码"></a>六、文档、源代码</h2><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/wutiaowu5t5/WebpackCreateVue3"><img src="https://github-readme-stats.vercel.app/api/pin/?username=wutiaowu5t5&repo=WebpackCreateVue3&show_owner=true"/></a>
<p><a href="https://guojiongwei.top/article/649d7c17c0cd245c9f55bf68">掘金大佬文档</a></p>
<p><a href="https://webpack.docschina.org/configuration/">配置 | webpack 中文文档 (docschina.org)</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://wutiaowu5t5.github.io">Nanami Kento</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://wutiaowu5t5.github.io/posts/54d94922/">https://wutiaowu5t5.github.io/posts/54d94922/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wutiaowu5t5.github.io" target="_blank">Nanami Kento</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/">工程化</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2024/05/09/K7VxfLSw1E6eDvR.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/11f6c0d3/" title="Webpack创建React项目"><img class="cover" src="https://s2.loli.net/2024/05/09/AlgtPEVUNqkTd2i.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Webpack创建React项目</div></div></a></div><div class="next-post pull-right"><a href="/posts/1d0a14b2/" title="学习ThreeJS-基础环境搭建"><img class="cover" src="https://s2.loli.net/2024/05/09/GK9ruP7wU6qlCZn.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">学习ThreeJS-基础环境搭建</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/8dce8b29/" title="Vite创建React项目"><img class="cover" src="https://s2.loli.net/2024/05/09/BnACZ4LQT5Y6vNt.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-13</div><div class="title">Vite创建React项目</div></div></a></div><div><a href="/posts/11f6c0d3/" title="Webpack创建React项目"><img class="cover" src="https://s2.loli.net/2024/05/09/AlgtPEVUNqkTd2i.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-15</div><div class="title">Webpack创建React项目</div></div></a></div><div><a href="/posts/957fddbf/" title="Javascript设计模式 - 《中介者模式（行为型）》"><img class="cover" src="https://s2.loli.net/2024/04/11/p3MTyVHb14BkYwD.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-06</div><div class="title">Javascript设计模式 - 《中介者模式（行为型）》</div></div></a></div><div><a href="/posts/54233691/" title="Javascript设计模式 - 《代理模式（结构型）》"><img class="cover" src="https://s2.loli.net/2024/04/11/xSToJ3ckvW51Vqn.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-22</div><div class="title">Javascript设计模式 - 《代理模式（结构型）》</div></div></a></div><div><a href="/posts/4fda2d18/" title="Javascript设计模式 - 《单例模式（创建型）》"><img class="cover" src="https://s2.loli.net/2024/04/08/YJ3LtgM54Hmavqu.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-15</div><div class="title">Javascript设计模式 - 《单例模式（创建型）》</div></div></a></div><div><a href="/posts/469c39d8/" title="Javascript设计模式 - 《享元模式（结构型）》"><img class="cover" src="https://s2.loli.net/2024/04/11/PvGFVMz2JnCB7YS.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-26</div><div class="title">Javascript设计模式 - 《享元模式（结构型）》</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/12/29/7htnI1LMOY4WCTF.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Nanami Kento</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" href="https://github.com/wutiaowu5t5"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/wutiaowu5t5" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:Gojo5t5Satoru@outlook.com" target="_blank" title="Gojo5t5Satoru@outlook.com"><i class="fas fa-envelope" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/wutiaowu5t5" target="_blank" title="wxid-ws0099"><i class="fab fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/wutiaowu5t5" target="_blank" title="1987053649"><i class="fab fa-qq" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">The blog is still under construction, stay tuned!</div></div><div class="card-widget card-visitor"><div class="item-headline"><i class="fas fa-location-arrow"></i><span>来访者</span></div><div class="item-content"><div id="welcome-info"></div><script data-pjax>var longitude="114.03028607368469";var Latitude="22.610554348016493";var txkey="NAOBZ-ETV3Z-U6FXM-ZJOMI-62Q7K-I6B4H";var ipLoacation;window.onload = () => {welcometxmap()};</script></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E8%A6%81%E6%B1%82"><span class="toc-text">版本要求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE"><span class="toc-text">建议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC"><span class="toc-text">如何查看版本</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">一、新建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-text">二、初始化项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">三、搭建项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Webpack%E5%9F%BA%E7%A1%80%E5%8C%85"><span class="toc-text">3.1-Webpack基础包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">3.2-配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-common-js%E5%85%AC%E5%85%B1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">webpack.common.js公共配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%9D%97%E8%A7%A3%E6%9E%90%E8%A7%84%E5%88%99-resolve"><span class="toc-text">配置模块解析规则 resolve</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6entry"><span class="toc-text">配置入口文件entry</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%BE%93%E5%87%BA%E9%80%89%E9%A1%B9output"><span class="toc-text">配置输出选项output</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E7%9A%84%E8%A7%84%E5%88%99%E9%85%8D%E7%BD%AEmodule"><span class="toc-text">定义模块的规则配置module</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%E6%95%B0%E7%BB%84plugins"><span class="toc-text">插件配置数组plugins</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-dev-js%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">webpack.dev.js开发环境配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-pros-js%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">webpack.pros.js生产环境配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9script%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE%E5%91%BD%E4%BB%A4"><span class="toc-text">修改script启动项目命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Vue%E7%B3%BB%E5%88%97"><span class="toc-text">3.3-Vue系列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAsrc%E6%96%87%E4%BB%B6"><span class="toc-text">新建src文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAassets"><span class="toc-text">新建assets</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAapis"><span class="toc-text">新建apis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAutils"><span class="toc-text">新建utils</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAhooks"><span class="toc-text">新建hooks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAcomponents"><span class="toc-text">新建components</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAstore"><span class="toc-text">新建store</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAviews"><span class="toc-text">新建views</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAmain-js"><span class="toc-text">新建main.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9Ahtml%E6%96%87%E4%BB%B6"><span class="toc-text">指定html文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A9webpack%E5%8F%AF%E4%BB%A5%E8%AF%86%E5%88%ABVue"><span class="toc-text">让webpack可以识别Vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E8%BF%90%E8%A1%8C"><span class="toc-text">测试运行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%AD%A6%E5%91%8A"><span class="toc-text">控制台警告</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E6%A0%B7%E5%BC%8F%E7%B3%BB%E5%88%97"><span class="toc-text">3.4-样式系列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%BC%98%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-text">四、优化项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Javascript%E4%BB%A3%E7%A0%81%E5%85%BC%E5%AE%B9"><span class="toc-text">4.1-Javascript代码兼容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-Css%E4%BB%A3%E7%A0%81%E5%85%BC%E5%AE%B9"><span class="toc-text">4.2-Css代码兼容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%8E%8B%E7%BC%A9Javascript%E4%BB%A3%E7%A0%81"><span class="toc-text">4.3-压缩Javascript代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%8E%8B%E7%BC%A9Css%E4%BB%A3%E7%A0%81"><span class="toc-text">4.4-压缩Css代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E8%87%AA%E5%8A%A8%E5%BC%95%E5%85%A5Element-Plus%E7%BB%84%E4%BB%B6"><span class="toc-text">4.5-自动引入Element Plus组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E8%BF%90%E8%A1%8C%E8%BF%9B%E5%BA%A6%E5%B1%95%E7%A4%BA"><span class="toc-text">4.6-运行进度展示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-Css%E7%9A%84Tree-Shaking"><span class="toc-text">4.7-Css的Tree-Shaking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-%E5%88%A0%E9%99%A4%E4%B8%8A%E4%B8%80%E6%AC%A1%E6%89%93%E5%8C%85%E6%AE%8B%E7%95%99%E7%9A%84dist%E6%96%87%E4%BB%B6"><span class="toc-text">4.8-删除上一次打包残留的dist文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86"><span class="toc-text">4.9-图片资源处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87"><span class="toc-text">4.10-压缩图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-11-%E5%85%AC%E5%85%B1%E4%BB%A3%E7%A0%81%E6%8F%90%E5%8F%96"><span class="toc-text">4.11-公共代码提取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-%E5%88%86%E5%89%B2%E4%BB%A3%E7%A0%81%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD"><span class="toc-text">4.12-分割代码按需加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-%E6%9F%A5%E7%9C%8B%E7%BC%96%E8%AF%91%E9%80%9F%E5%BA%A6"><span class="toc-text">4.13-查看编译速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-14-%E5%A4%9A%E8%BF%9B%E7%A8%8B"><span class="toc-text">4.14-多进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-15-%E7%B2%BE%E7%AE%80%E7%BB%88%E7%AB%AF%E8%BE%93%E5%87%BA"><span class="toc-text">4.15-精简终端输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-16-%E5%AD%97%E4%BD%93%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86"><span class="toc-text">4.16-字体资源处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-18-%E6%89%93%E5%8C%85%E7%94%9F%E6%88%90gz"><span class="toc-text">4.18-打包生成gz</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-19-%E6%89%93%E5%8C%85%E5%88%86%E6%9E%90"><span class="toc-text">4.19-打包分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-20-%E5%BC%80%E5%90%AF%E7%BC%93%E5%AD%98"><span class="toc-text">4.20-开启缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-21-%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B%E7%BE%8E%E5%8C%96"><span class="toc-text">4.21-编译过程美化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-22-%E8%BF%9B%E5%BA%A6%E6%9D%A1%E7%BE%8E%E5%8C%96"><span class="toc-text">4.22-进度条美化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-23-Eslint%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="toc-text">4.23-Eslint配置代码规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-24-%E9%85%8D%E7%BD%AEhusky"><span class="toc-text">4.24-配置husky</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-25-commit%E4%BF%A1%E6%81%AF%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-text">4.25-commit信息规范化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-26-commit%E6%8F%90%E4%BA%A4%E8%BE%85%E5%8A%A9%E5%A4%87%E6%B3%A8%E4%BF%A1%E6%81%AF"><span class="toc-text">4.26-commit提交辅助备注信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%8E%A8%E9%80%81%E8%BF%9C%E7%A8%8B"><span class="toc-text">五、推送远程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E6%B7%BB%E5%8A%A0-gitignore-%E6%96%87%E4%BB%B6"><span class="toc-text">5.1-添加.gitignore 文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%96%87%E6%A1%A3%E3%80%81%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="toc-text">六、文档、源代码</span></a></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/9462a334/" title="学习ThreeJS-《Camera（官网案例）》"><img src="https://s2.loli.net/2024/05/09/DzJNVjYfem3M8wX.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="学习ThreeJS-《Camera（官网案例）》"/></a><div class="content"><a class="title" href="/posts/9462a334/" title="学习ThreeJS-《Camera（官网案例）》">学习ThreeJS-《Camera（官网案例）》</a><time datetime="2024-04-18T07:24:24.000Z" title="发表于 2024-04-18 15:24:24">2024-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1d0a14b2/" title="学习ThreeJS-基础环境搭建"><img src="https://s2.loli.net/2024/05/09/GK9ruP7wU6qlCZn.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="学习ThreeJS-基础环境搭建"/></a><div class="content"><a class="title" href="/posts/1d0a14b2/" title="学习ThreeJS-基础环境搭建">学习ThreeJS-基础环境搭建</a><time datetime="2024-04-17T07:24:24.000Z" title="发表于 2024-04-17 15:24:24">2024-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/54d94922/" title="Webapck创建Vue3项目"><img src="https://s2.loli.net/2024/05/09/K7VxfLSw1E6eDvR.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Webapck创建Vue3项目"/></a><div class="content"><a class="title" href="/posts/54d94922/" title="Webapck创建Vue3项目">Webapck创建Vue3项目</a><time datetime="2024-04-16T07:24:24.000Z" title="发表于 2024-04-16 15:24:24">2024-04-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/11f6c0d3/" title="Webpack创建React项目"><img src="https://s2.loli.net/2024/05/09/AlgtPEVUNqkTd2i.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Webpack创建React项目"/></a><div class="content"><a class="title" href="/posts/11f6c0d3/" title="Webpack创建React项目">Webpack创建React项目</a><time datetime="2024-04-15T07:24:24.000Z" title="发表于 2024-04-15 15:24:24">2024-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/8dce8b29/" title="Vite创建Vue3项目"><img src="https://s2.loli.net/2024/05/09/uCvF9qlxXWUL8mb.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vite创建Vue3项目"/></a><div class="content"><a class="title" href="/posts/8dce8b29/" title="Vite创建Vue3项目">Vite创建Vue3项目</a><time datetime="2024-04-14T07:24:24.000Z" title="发表于 2024-04-14 15:24:24">2024-04-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2024/05/09/K7VxfLSw1E6eDvR.png')"><div id="footer-wrap"><div class="copyright">&copy;Fri Nov 12 1999 08:00:00 GMT+0800 (中国标准时间) - 2024 By Nanami Kento</div><div class="framework-info"><span>框架 </span><a href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><a class="icon-V hidden" id="change_dark_mode" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><!--button#darkmode(type="button" title=_p('rightside.night_mode_title'))--><!--  i.fas.fa-adjust--><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="refresh-cache" type="button" title="刷新缓存" onclick="refreshCache()"><i class="fas fa-refresh fa-spin"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0%</span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="iconfont icon-baidu"></i><span>百度搜索</span></a><!--a.rightMenu-item(href="javascript:rmf.searchinThisPage();")--><!--  i.fas.fa-search--><!--  span='站内搜索'--><a class="rightMenu-item" href="#post-comment" onclick="rmf.yinyong()"><i class="fa-solid fa-message"></i><span>引用文本评论</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.click()"><i class="fa fa-arrows-alt"></i><span>全屏显示</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.translate();"><i class="iconfont icon-fanti"></i><span>繁简转换</span></a><!--a.rightMenu-item(href="javascript:toggleWinbox();")--><!--  i.fas.fa-cog--><!--  span='博客设置'--><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span id="fullScreenText">进入全屏</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: '7b5408da757d7ca1909e',
      clientSecret: 'a34138bdde985783ed984fc84cec5538a0fe931d',
      repo: 'wutiaowu5t5.github.io',
      owner: 'wutiaowu5t5',
      admin: ['wutiaowu5t5'],
      id: 'e88a3374d666eb37ba6e290cf8ed53cf',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Gitalk' === 'Gitalk' || !true) {
    if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script async src="/js/debounceInit.js"></script><script async src="/js/console.js"></script><script type="text/javascript" src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script async src="//at.alicdn.com/t/c/font_4427279_s445g4lsqz.js"></script><script async src="/js/share.js"></script><script async src="/js/grayscale.js"></script><script async src="/js/randomPost.js"></script><script async src="/js/positionWelcome.js"></script><script async src="/js/rightMenu.js"></script><script async src="/js/showFPS.js"></script><div id="fps"></div><script async src="/js/refresh.js"></script><script data-pjax defer src="/js/hideAsideOnMobile.js"></script><script src="/js/nightModeSwitchAnimation.js" async></script><script src="/js/readPercent.js" async></script><script src="/js/mobileReadingModeHideSidebar.js" async></script><script async src="/js/articleEchartsDarkMode.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="五条悟,六眼,咒术「苍」,反转「赫」,虚式「茈」,无量空处,狗卷,鲑鱼,金枪鱼,木鱼花,鲣鱼干,蛋黄酱,大芥,明太子,腌高菜,海带,情绪,宿傩,束缚,「契阔」,「弥虚葛笼」,鹿紫云一,「幻兽琥珀」,「龙鳞」,「反发」,「黑闪」,里梅,冰凝咒法,九十九,星之怒,凰轮,冥冥,神风,涉谷,百鬼夜行,涉谷,乙骨,模仿,钉崎,夏油,伏黑惠,虎杖,「迳庭拳」,娜娜明,「瓦落」,猪肚包,小肚叽,小葵" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="fixedcard-dashboard"><button class="fixedcard-activebtn" type="button" title="用户信息" onclick="FixedCardWidget(&quot;class&quot;,&quot;card-info&quot;,&quot;0&quot;)"><i class="fas fa-address-book"></i></button><button class="fixedcard-activebtn" type="button" title="最新文章" onclick="FixedCardWidget(&quot;class&quot;,&quot;card-recent-post&quot;,&quot;0&quot;)"><i class="fas fa-history"></i></button><button class="fixedcard-activebtn" type="button" title="来访者" onclick="FixedCardWidget(&quot;class&quot;,&quot;card-visitor&quot;,&quot;0&quot;)"><i class="fas fa-earth-americas"></i></button><div class="fixedcard-user-avatar fixedcard-activebtn" onclick="RemoveFixedCardWidget()"><img class="fixedcard-user-avatar-img" src="https://s2.loli.net/2023/12/29/7htnI1LMOY4WCTF.jpg" title="Nanami Kento"></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start -->
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://hexo-circle-of-friends-api-jade.vercel.app/api?user=wutiaowu5t5";
            var git_color =['#ebedf0', '#f1f8ff', '#dbedff', '#c8e1ff', '#79b8ff', '#2188ff', '#0366d6', '#005cc5', '#044289', '#032f62', '#05264c'];
            var git_user ="user=wutiaowu5t5";
            var parent_div_git = document.getElementById('recent-posts');
            var git_div_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="height:100%;display: flex;align-items: center;justify-content: center;"><svg style="height:50px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/'){
                //console.log('已挂载github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // 有报错，但不影响使用(支持pjax跳转)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('recent-posts')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:260px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style></style><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                //console.log('已挂载history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    //console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = '0bfa3e0417864a0cb4a14ccdd2517046';
  var gaud_map_key = '7ff01b85d8ea8f50c2e71a46c46e444d';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279, 28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>